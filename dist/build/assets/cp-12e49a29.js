var Y=Object.defineProperty;var W=(n,e,t)=>e in n?Y(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var k=(n,e,t)=>(W(n,typeof e!="symbol"?e+"":e,t),t),Z=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var U=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)};var z=(n,e,t)=>(Z(n,e,"access private method"),t);const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=n=>({x:n,y:n}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function evaluate(n,e){return typeof n=="function"?n(e):n}function getSide(n){return n.split("-")[0]}function getAlignment(n){return n.split("-")[1]}function getOppositeAxis(n){return n==="x"?"y":"x"}function getAxisLength(n){return n==="y"?"height":"width"}function getSideAxis(n){return["top","bottom"].includes(getSide(n))?"y":"x"}function getAlignmentAxis(n){return getOppositeAxis(getSideAxis(n))}function getAlignmentSides(n,e,t){t===void 0&&(t=!1);const s=getAlignment(n),r=getAlignmentAxis(n),o=getAxisLength(r);let a=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=getOppositePlacement(a)),[a,getOppositePlacement(a)]}function getExpandedPlacements(n){const e=getOppositePlacement(n);return[getOppositeAlignmentPlacement(n),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(n){return n.replace(/start|end/g,e=>oppositeAlignmentMap[e])}function getSideList(n,e,t){const s=["left","right"],r=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:s:e?s:r;case"left":case"right":return e?o:a;default:return[]}}function getOppositeAxisPlacements(n,e,t,s){const r=getAlignment(n);let o=getSideList(getSide(n),t==="start",s);return r&&(o=o.map(a=>a+"-"+r),e&&(o=o.concat(o.map(getOppositeAlignmentPlacement)))),o}function getOppositePlacement(n){return n.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(n){return{top:0,right:0,bottom:0,left:0,...n}}function getPaddingObject(n){return typeof n!="number"?expandPaddingObject(n):{top:n,right:n,bottom:n,left:n}}function rectToClientRect(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function computeCoordsFromPlacement(n,e,t){let{reference:s,floating:r}=n;const o=getSideAxis(e),a=getAlignmentAxis(e),l=getAxisLength(a),c=getSide(e),u=o==="y",d=s.x+s.width/2-r.width/2,p=s.y+s.height/2-r.height/2,h=s[l]/2-r[l]/2;let f;switch(c){case"top":f={x:d,y:s.y-r.height};break;case"bottom":f={x:d,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:p};break;case"left":f={x:s.x-r.width,y:p};break;default:f={x:s.x,y:s.y}}switch(getAlignment(e)){case"start":f[a]-=h*(t&&u?-1:1);break;case"end":f[a]+=h*(t&&u?-1:1);break}return f}const computePosition$1=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:o=[],platform:a}=t,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:p}=computeCoordsFromPlacement(u,s,c),h=s,f={},m=0;for(let b=0;b<l.length;b++){const{name:w,fn:y}=l[b],{x:g,y:v,data:x,reset:C}=await y({x:d,y:p,initialPlacement:s,placement:h,strategy:r,middlewareData:f,rects:u,platform:a,elements:{reference:n,floating:e}});d=g??d,p=v??p,f={...f,[w]:{...f[w],...x}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:r}):C.rects),{x:d,y:p}=computeCoordsFromPlacement(u,h,c)),b=-1)}return{x:d,y:p,placement:h,strategy:r,middlewareData:f}};async function detectOverflow(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:o,rects:a,elements:l,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:f=0}=evaluate(e,n),m=getPaddingObject(f),w=l[h?p==="floating"?"reference":"floating":p],y=rectToClientRect(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(w)))==null||t?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=p==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),x=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},C=rectToClientRect(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:c}):g);return{top:(y.top-C.top+m.top)/x.y,bottom:(C.bottom-y.bottom+m.bottom)/x.y,left:(y.left-C.left+m.left)/x.x,right:(C.right-y.right+m.right)/x.x}}const flip$1=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:b=!0,...w}=evaluate(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const y=getSide(r),g=getSide(l)===l,v=await(c.isRTL==null?void 0:c.isRTL(u.floating)),x=h||(g||!b?[getOppositePlacement(l)]:getExpandedPlacements(l));!h&&m!=="none"&&x.push(...getOppositeAxisPlacements(l,b,m,v));const C=[l,...x],S=await detectOverflow(e,w),$=[];let E=((s=o.flip)==null?void 0:s.overflows)||[];if(d&&$.push(S[y]),p){const O=getAlignmentSides(r,a,v);$.push(S[O[0]],S[O[1]])}if(E=[...E,{placement:r,overflows:$}],!$.every(O=>O<=0)){var M,P;const O=(((M=o.flip)==null?void 0:M.index)||0)+1,L=C[O];if(L)return{data:{index:O,overflows:E},reset:{placement:L}};let D=(P=E.filter(R=>R.overflows[0]<=0).sort((R,A)=>R.overflows[1]-A.overflows[1])[0])==null?void 0:P.placement;if(!D)switch(f){case"bestFit":{var T;const R=(T=E.map(A=>[A.placement,A.overflows.filter(F=>F>0).reduce((F,I)=>F+I,0)]).sort((A,F)=>A[1]-F[1])[0])==null?void 0:T[0];R&&(D=R);break}case"initialPlacement":D=l;break}if(r!==D)return{reset:{placement:D}}}return{}}}};async function convertValueToCoords(n,e){const{placement:t,platform:s,elements:r}=n,o=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=getSide(t),l=getAlignment(t),c=getSideAxis(t)==="y",u=["left","top"].includes(a)?-1:1,d=o&&c?-1:1,p=evaluate(e,n);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return l&&typeof m=="number"&&(f=l==="end"?m*-1:m),c?{x:f*d,y:h*u}:{x:h*u,y:f*d}}const offset$1=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:o,placement:a,middlewareData:l}=e,c=await convertValueToCoords(e,n);return a===((t=l.offset)==null?void 0:t.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:o+c.y,data:{...c,placement:a}}}}};function getNodeName(n){return isNode(n)?(n.nodeName||"").toLowerCase():"#document"}function getWindow(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(n){var e;return(e=(isNode(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function isNode(n){return n instanceof Node||n instanceof getWindow(n).Node}function isElement$1(n){return n instanceof Element||n instanceof getWindow(n).Element}function isHTMLElement$1(n){return n instanceof HTMLElement||n instanceof getWindow(n).HTMLElement}function isShadowRoot(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof getWindow(n).ShadowRoot}function isOverflowElement(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=getComputedStyle$1(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(r)}function isTableElement(n){return["table","td","th"].includes(getNodeName(n))}function isContainingBlock(n){const e=isWebKit(),t=getComputedStyle$1(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(t.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(t.contain||"").includes(s))}function getContainingBlock(n){let e=getParentNode(n);for(;isHTMLElement$1(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(n){return["html","body","#document"].includes(getNodeName(n))}function getComputedStyle$1(n){return getWindow(n).getComputedStyle(n)}function getNodeScroll(n){return isElement$1(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function getParentNode(n){if(getNodeName(n)==="html")return n;const e=n.assignedSlot||n.parentNode||isShadowRoot(n)&&n.host||getDocumentElement(n);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(n){const e=getParentNode(n);return isLastTraversableNode(e)?n.ownerDocument?n.ownerDocument.body:n.body:isHTMLElement$1(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=getNearestOverflowAncestor(n),o=r===((s=n.ownerDocument)==null?void 0:s.body),a=getWindow(r);return o?e.concat(a,a.visualViewport||[],isOverflowElement(r)?r:[],a.frameElement&&t?getOverflowAncestors(a.frameElement):[]):e.concat(r,getOverflowAncestors(r,[],t))}function getCssDimensions(n){const e=getComputedStyle$1(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=isHTMLElement$1(n),o=r?n.offsetWidth:t,a=r?n.offsetHeight:s,l=round(t)!==o||round(s)!==a;return l&&(t=o,s=a),{width:t,height:s,$:l}}function unwrapElement(n){return isElement$1(n)?n:n.contextElement}function getScale(n){const e=unwrapElement(n);if(!isHTMLElement$1(e))return createCoords(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:o}=getCssDimensions(e);let a=(o?round(t.width):t.width)/s,l=(o?round(t.height):t.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const noOffsets=createCoords(0);function getVisualOffsets(n){const e=getWindow(n);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==getWindow(n)?!1:e}function getBoundingClientRect(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=unwrapElement(n);let a=createCoords(1);e&&(s?isElement$1(s)&&(a=getScale(s)):a=getScale(n));const l=shouldAddVisualOffsets(o,t,s)?getVisualOffsets(o):createCoords(0);let c=(r.left+l.x)/a.x,u=(r.top+l.y)/a.y,d=r.width/a.x,p=r.height/a.y;if(o){const h=getWindow(o),f=s&&isElement$1(s)?getWindow(s):s;let m=h,b=m.frameElement;for(;b&&s&&f!==m;){const w=getScale(b),y=b.getBoundingClientRect(),g=getComputedStyle$1(b),v=y.left+(b.clientLeft+parseFloat(g.paddingLeft))*w.x,x=y.top+(b.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,p*=w.y,c+=v,u+=x,m=getWindow(b),b=m.frameElement}}return rectToClientRect({width:d,height:p,x:c,y:u})}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(n){return topLayerSelectors.some(e=>{try{return n.matches(e)}catch{return!1}})}function convertOffsetParentRelativeRectToViewportRelativeRect(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const o=r==="fixed",a=getDocumentElement(s),l=e?isTopLayer(e.floating):!1;if(s===a||l&&o)return t;let c={scrollLeft:0,scrollTop:0},u=createCoords(1);const d=createCoords(0),p=isHTMLElement$1(s);if((p||!p&&!o)&&((getNodeName(s)!=="body"||isOverflowElement(a))&&(c=getNodeScroll(s)),isHTMLElement$1(s))){const h=getBoundingClientRect(s);u=getScale(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x,y:t.y*u.y-c.scrollTop*u.y+d.y}}function getClientRects(n){return Array.from(n.getClientRects())}function getWindowScrollBarX(n){return getBoundingClientRect(getDocumentElement(n)).left+getNodeScroll(n).scrollLeft}function getDocumentRect(n){const e=getDocumentElement(n),t=getNodeScroll(n),s=n.ownerDocument.body,r=max(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=max(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-t.scrollLeft+getWindowScrollBarX(n);const l=-t.scrollTop;return getComputedStyle$1(s).direction==="rtl"&&(a+=max(e.clientWidth,s.clientWidth)-r),{width:r,height:o,x:a,y:l}}function getViewportRect(n,e){const t=getWindow(n),s=getDocumentElement(n),r=t.visualViewport;let o=s.clientWidth,a=s.clientHeight,l=0,c=0;if(r){o=r.width,a=r.height;const u=isWebKit();(!u||u&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:o,height:a,x:l,y:c}}function getInnerBoundingClientRect(n,e){const t=getBoundingClientRect(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,o=isHTMLElement$1(n)?getScale(n):createCoords(1),a=n.clientWidth*o.x,l=n.clientHeight*o.y,c=r*o.x,u=s*o.y;return{width:a,height:l,x:c,y:u}}function getClientRectFromClippingAncestor(n,e,t){let s;if(e==="viewport")s=getViewportRect(n,t);else if(e==="document")s=getDocumentRect(getDocumentElement(n));else if(isElement$1(e))s=getInnerBoundingClientRect(e,t);else{const r=getVisualOffsets(n);s={...e,x:e.x-r.x,y:e.y-r.y}}return rectToClientRect(s)}function hasFixedPositionAncestor(n,e){const t=getParentNode(n);return t===e||!isElement$1(t)||isLastTraversableNode(t)?!1:getComputedStyle$1(t).position==="fixed"||hasFixedPositionAncestor(t,e)}function getClippingElementAncestors(n,e){const t=e.get(n);if(t)return t;let s=getOverflowAncestors(n,[],!1).filter(l=>isElement$1(l)&&getNodeName(l)!=="body"),r=null;const o=getComputedStyle$1(n).position==="fixed";let a=o?getParentNode(n):n;for(;isElement$1(a)&&!isLastTraversableNode(a);){const l=getComputedStyle$1(a),c=isContainingBlock(a);!c&&l.position==="fixed"&&(r=null),(o?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||isOverflowElement(a)&&!c&&hasFixedPositionAncestor(n,a))?s=s.filter(d=>d!==a):r=l,a=getParentNode(a)}return e.set(n,s),s}function getClippingRect(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const a=[...t==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(t),s],l=a[0],c=a.reduce((u,d)=>{const p=getClientRectFromClippingAncestor(e,d,r);return u.top=max(p.top,u.top),u.right=min(p.right,u.right),u.bottom=min(p.bottom,u.bottom),u.left=max(p.left,u.left),u},getClientRectFromClippingAncestor(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function getDimensions(n){const{width:e,height:t}=getCssDimensions(n);return{width:e,height:t}}function getRectRelativeToOffsetParent(n,e,t){const s=isHTMLElement$1(e),r=getDocumentElement(e),o=t==="fixed",a=getBoundingClientRect(n,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=createCoords(0);if(s||!s&&!o)if((getNodeName(e)!=="body"||isOverflowElement(r))&&(l=getNodeScroll(e)),s){const p=getBoundingClientRect(e,!0,o,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else r&&(c.x=getWindowScrollBarX(r));const u=a.left+l.scrollLeft-c.x,d=a.top+l.scrollTop-c.y;return{x:u,y:d,width:a.width,height:a.height}}function isStaticPositioned(n){return getComputedStyle$1(n).position==="static"}function getTrueOffsetParent(n,e){return!isHTMLElement$1(n)||getComputedStyle$1(n).position==="fixed"?null:e?e(n):n.offsetParent}function getOffsetParent(n,e){const t=getWindow(n);if(isTopLayer(n))return t;if(!isHTMLElement$1(n)){let r=getParentNode(n);for(;r&&!isLastTraversableNode(r);){if(isElement$1(r)&&!isStaticPositioned(r))return r;r=getParentNode(r)}return t}let s=getTrueOffsetParent(n,e);for(;s&&isTableElement(s)&&isStaticPositioned(s);)s=getTrueOffsetParent(s,e);return s&&isLastTraversableNode(s)&&isStaticPositioned(s)&&!isContainingBlock(s)?t:s||getContainingBlock(n)||t}const getElementRects=async function(n){const e=this.getOffsetParent||getOffsetParent,t=this.getDimensions,s=await t(n.floating);return{reference:getRectRelativeToOffsetParent(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function isRTL(n){return getComputedStyle$1(n).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function observeMove(n,e){let t=null,s;const r=getDocumentElement(n);function o(){var l;clearTimeout(s),(l=t)==null||l.disconnect(),t=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:p,height:h}=n.getBoundingClientRect();if(l||e(),!p||!h)return;const f=floor(d),m=floor(r.clientWidth-(u+p)),b=floor(r.clientHeight-(d+h)),w=floor(u),g={rootMargin:-f+"px "+-m+"px "+-b+"px "+-w+"px",threshold:max(0,min(1,c))||1};let v=!0;function x(C){const S=C[0].intersectionRatio;if(S!==c){if(!v)return a();S?a(!1,S):s=setTimeout(()=>{a(!1,1e-7)},1e3)}v=!1}try{t=new IntersectionObserver(x,{...g,root:r.ownerDocument})}catch{t=new IntersectionObserver(x,g)}t.observe(n)}return a(!0),o}function autoUpdate(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=unwrapElement(n),d=r||o?[...u?getOverflowAncestors(u):[],...getOverflowAncestors(e)]:[];d.forEach(y=>{r&&y.addEventListener("scroll",t,{passive:!0}),o&&y.addEventListener("resize",t)});const p=u&&l?observeMove(u,t):null;let h=-1,f=null;a&&(f=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(e)})),t()}),u&&!c&&f.observe(u),f.observe(e));let m,b=c?getBoundingClientRect(n):null;c&&w();function w(){const y=getBoundingClientRect(n);b&&(y.x!==b.x||y.y!==b.y||y.width!==b.width||y.height!==b.height)&&t(),b=y,m=requestAnimationFrame(w)}return t(),()=>{var y;d.forEach(g=>{r&&g.removeEventListener("scroll",t),o&&g.removeEventListener("resize",t)}),p==null||p(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const offset=offset$1,flip=flip$1,computePosition=(n,e,t)=>{const s=new Map,r={platform,...t},o={...r.platform,_c:s};return computePosition$1(n,e,{...r,platform:o})},PositionsSelectOptions={methods:{positionOptions(n,e,{width:t}){n.style.width=t;function s(){computePosition(e.$refs.toggle,n,{placement:"bottom",middleware:[offset({mainAxis:0,crossAxis:-1}),flip()]}).then(({x:o,y:a})=>{Object.assign(n.style,{left:`${Math.round(o)}px`,top:`${Math.round(a)}px`})})}const r=autoUpdate(e.$refs.toggle,n,s);this.$once("hook:destroyed",r)}}};function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(n){_defaults=n}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=n=>escapeReplacements[n];function escape$1(n,e){if(e){if(escapeTest.test(n))return n.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(n))return n.replace(escapeReplaceNoEncode,getEscapeReplacement);return n}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape(n){return n.replace(unescapeTest,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const s={replace:(r,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(caret,"$1"),t=t.replace(r,a),s},getRegex:()=>new RegExp(t,e)};return s}function cleanUrl(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const noopTest={exec:()=>null};function splitCells(n,e){const t=n.replace(/\|/g,(o,a,l)=>{let c=!1,u=a;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),s=t.split(/ \|/);let r=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(/\\\|/g,"|");return s}function rtrim(n,e,t){const s=n.length;if(s===0)return"";let r=0;for(;r<s;){const o=n.charAt(s-r-1);if(o===e&&!t)r++;else if(o!==e&&t)r++;else break}return n.slice(0,s-r)}function findClosingBracket(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let s=0;s<n.length;s++)if(n[s]==="\\")s++;else if(n[s]===e[0])t++;else if(n[s]===e[1]&&(t--,t<0))return s;return-1}function outputLink(n,e,t,s){const r=e.href,o=e.title?escape$1(e.title):null,a=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){s.state.inLink=!0;const l={type:"link",raw:t,href:r,title:o,text:a,tokens:s.inlineTokens(a)};return s.state.inLink=!1,l}return{type:"image",raw:t,href:r,title:o,text:escape$1(a)}}function indentCodeCompensation(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const s=t[1];return e.split(`
`).map(r=>{const o=r.match(/^\s+/);if(o===null)return r;const[a]=o;return a.length>=s.length?r.slice(s.length):r}).join(`
`)}class _Tokenizer{constructor(e){k(this,"options");k(this,"rules");k(this,"lexer");this.options=e||_defaults}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const s=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?s:rtrim(s,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const s=t[0],r=indentCodeCompensation(s,t[3]||"");return{type:"code",raw:s,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let s=t[2].trim();if(/#$/.test(s)){const r=rtrim(s,"#");(this.options.pedantic||!r||/ $/.test(r))&&(s=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const s=rtrim(t[0].replace(/^ *>[ \t]?/gm,""),`
`),r=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(s);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:o,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let s=t[1].trim();const r=s.length>1,o={type:"list",raw:"",ordered:r,start:r?+s.slice(0,-1):"",loose:!1,items:[]};s=r?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=r?s:"[*+-]");const a=new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",c="",u=!1;for(;e;){let d=!1;if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let p=t[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),h=e.split(`
`,1)[0],f=0;this.options.pedantic?(f=2,c=p.trimStart()):(f=t[2].search(/[^ ]/),f=f>4?1:f,c=p.slice(f),f+=t[1].length);let m=!1;if(!p&&/^ *$/.test(h)&&(l+=h+`
`,e=e.substring(h.length+1),d=!0),!d){const y=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),g=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),v=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),x=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;e;){const C=e.split(`
`,1)[0];if(h=C,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),v.test(h)||x.test(h)||y.test(h)||g.test(e))break;if(h.search(/[^ ]/)>=f||!h.trim())c+=`
`+h.slice(f);else{if(m||p.search(/[^ ]/)>=4||v.test(p)||x.test(p)||g.test(p))break;c+=`
`+h}!m&&!h.trim()&&(m=!0),l+=C+`
`,e=e.substring(C.length+1),p=h.slice(f)}}o.loose||(u?o.loose=!0:/\n *\n *$/.test(l)&&(u=!0));let b=null,w;this.options.gfm&&(b=/^\[[ xX]\] /.exec(c),b&&(w=b[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:l,task:!!b,checked:w,loose:!1,text:c,tokens:[]}),o.raw+=l}o.items[o.items.length-1].raw=l.trimEnd(),o.items[o.items.length-1].text=c.trimEnd(),o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){const p=o.items[d].tokens.filter(f=>f.type==="space"),h=p.length>0&&p.some(f=>/\n.*\n/.test(f.raw));o.loose=h}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const s=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:s,raw:t[0],href:r,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const s=splitCells(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(s.length===r.length){for(const l of r)/^ *-+: *$/.test(l)?a.align.push("right"):/^ *:-+: *$/.test(l)?a.align.push("center"):/^ *:-+ *$/.test(l)?a.align.push("left"):a.align.push(null);for(const l of s)a.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of o)a.rows.push(splitCells(l,a.header.length).map(c=>({text:c,tokens:this.lexer.inline(c)})));return a}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const s=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:escape$1(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const s=t[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const a=rtrim(s.slice(0,-1),"\\");if((s.length-a.length)%2===0)return}else{const a=findClosingBracket(t[2],"()");if(a>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);a&&(r=a[1],o=a[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(s)?r=r.slice(1):r=r.slice(1,-1)),outputLink(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const r=(s[2]||s[1]).replace(/\s+/g," "),o=t[r.toLowerCase()];if(!o){const a=s[0].charAt(0);return{type:"text",raw:a,text:a}}return outputLink(s,o,s[0],this.lexer)}}emStrong(e,t,s=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&s.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const a=[...r[0]].length-1;let l,c,u=a,d=0;const p=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+a);(r=p.exec(t))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(c=[...l].length,r[3]||r[4]){u+=c;continue}else if((r[5]||r[6])&&a%3&&!((a+c)%3)){d+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+d);const h=[...r[0]][0].length,f=e.slice(0,a+r.index+h+c);if(Math.min(a,c)%2){const b=f.slice(1,-1);return{type:"em",raw:f,text:b,tokens:this.lexer.inlineTokens(b)}}const m=f.slice(2,-2);return{type:"strong",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let s=t[2].replace(/\n/g," ");const r=/[^ ]/.test(s),o=/^ /.test(s)&&/ $/.test(s);return r&&o&&(s=s.substring(1,s.length-1)),s=escape$1(s,!0),{type:"codespan",raw:t[0],text:s}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let s,r;return t[2]==="@"?(s=escape$1(t[1]),r="mailto:"+s):(s=escape$1(t[1]),r=s),{type:"link",raw:t[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let t;if(t=this.rules.inline.url.exec(e)){let r,o;if(t[2]==="@")r=escape$1(t[0]),o="mailto:"+r;else{let a;do a=t[0],t[0]=((s=this.rules.inline._backpedal.exec(t[0]))==null?void 0:s[0])??"";while(a!==t[0]);r=escape$1(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let s;return this.lexer.state.inRawBlock?s=t[0]:s=escape$1(t[0]),{type:"text",raw:t[0],text:s}}}}const newline=/^(?: *(?:\n|$))+/,blockCode=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bullet=/(?:[*+-]|\d{1,9}[.)])/,lheading=edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,bullet).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_paragraph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,blockText=/^[^\n]+/,_blockLabel=/(?!\s*\])(?:\\.|[^\[\]\\])+/,def=edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",_blockLabel).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),list=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bullet).getRegex(),_tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_comment=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,html=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",_comment).replace("tag",_tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),paragraph=edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockquote=edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",paragraph).getRegex(),blockNormal={blockquote,code:blockCode,def,fences,heading,hr,html,lheading,list,newline,paragraph,table:noopTest,text:blockText},gfmTable=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockGfm={...blockNormal,table:gfmTable,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gfmTable).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex()},blockPedantic={...blockNormal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(_paragraph).replace("hr",hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lheading).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},escape=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,inlineCode=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br=/^( {2,}|\\)\n(?!\s*$)/,inlineText=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_punctuation="\\p{P}\\p{S}",punctuation=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,_punctuation).getRegex(),blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,emStrongLDelim=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimAst=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimUnd=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,_punctuation).getRegex(),anyPunctuation=edit(/\\([punct])/,"gu").replace(/punct/g,_punctuation).getRegex(),autolink=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_inlineComment=edit(_comment).replace("(?:-->|$)","-->").getRegex(),tag=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_inlineComment).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_inlineLabel=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,link=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_inlineLabel).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),reflink=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",_inlineLabel).replace("ref",_blockLabel).getRegex(),nolink=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",_blockLabel).getRegex(),reflinkSearch=edit("reflink|nolink(?!\\()","g").replace("reflink",reflink).replace("nolink",nolink).getRegex(),inlineNormal={_backpedal:noopTest,anyPunctuation,autolink,blockSkip,br,code:inlineCode,del:noopTest,emStrongLDelim,emStrongRDelimAst,emStrongRDelimUnd,escape,link,nolink,punctuation,reflink,reflinkSearch,tag,text:inlineText,url:noopTest},inlinePedantic={...inlineNormal,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",_inlineLabel).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_inlineLabel).getRegex()},inlineGfm={...inlineNormal,escape:edit(escape).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inlineBreaks={...inlineGfm,br:edit(br).replace("{2,}","*").getRegex(),text:edit(inlineGfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},block={normal:blockNormal,gfm:blockGfm,pedantic:blockPedantic},inline={normal:inlineNormal,gfm:inlineGfm,breaks:inlineBreaks,pedantic:inlinePedantic};class _Lexer{constructor(e){k(this,"tokens");k(this,"options");k(this,"state");k(this,"tokenizer");k(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:block.normal,inline:inline.normal};this.options.pedantic?(t.block=block.pedantic,t.inline=inline.pedantic):this.options.gfm&&(t.block=block.gfm,this.options.breaks?t.inline=inline.breaks:t.inline=inline.gfm),this.tokenizer.rules=t}static get rules(){return{block,inline}}static lex(e,t){return new _Lexer(t).lex(e)}static lexInline(e,t){return new _Lexer(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const s=this.inlineQueue[t];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,u)=>c+"    ".repeat(u.length));let s,r,o,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(s=l.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+s.raw,r.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let u;this.options.extensions.startBlock.forEach(d=>{u=d.call({lexer:this},c),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(o=e.substring(0,l+1))}if(this.state.top&&(s=this.tokenizer.paragraph(o))){r=t[t.length-1],a&&r.type==="paragraph"?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(s),a=o.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(s);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let s,r,o,a=e,l,c,u;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)d.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,l.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(s=d.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),r=t[t.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):t.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),r=t[t.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):t.push(s);continue}if(s=this.tokenizer.emStrong(e,a,u)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),t.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),t.push(s);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const p=e.slice(1);let h;this.options.extensions.startInline.forEach(f=>{h=f.call({lexer:this},p),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(s=this.tokenizer.inlineText(o)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(u=s.raw.slice(-1)),c=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):t.push(s);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}}class _Renderer{constructor(e){k(this,"options");this.options=e||_defaults}code(e,t,s){var o;const r=(o=(t||"").match(/^\S*/))==null?void 0:o[0];return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="language-'+escape$1(r)+'">'+(s?e:escape$1(e,!0))+`</code></pre>
`:"<pre><code>"+(s?e:escape$1(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,s){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,s){const r=t?"ol":"ul",o=t&&s!==1?' start="'+s+'"':"";return"<"+r+o+`>
`+e+"</"+r+`>
`}listitem(e,t,s){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const s=t.header?"th":"td";return(t.align?`<${s} align="${t.align}">`:`<${s}>`)+e+`</${s}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,s){const r=cleanUrl(e);if(r===null)return s;e=r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+s+"</a>",o}image(e,t,s){const r=cleanUrl(e);if(r===null)return s;e=r;let o=`<img src="${e}" alt="${s}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class _TextRenderer{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,s){return""+s}image(e,t,s){return""+s}br(){return""}}class _Parser{constructor(e){k(this,"options");k(this,"renderer");k(this,"textRenderer");this.options=e||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer}static parse(e,t){return new _Parser(t).parse(e)}static parseInline(e,t){return new _Parser(t).parseInline(e)}parse(e,t=!0){let s="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=o,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){s+=l||"";continue}}switch(o.type){case"space":continue;case"hr":{s+=this.renderer.hr();continue}case"heading":{const a=o;s+=this.renderer.heading(this.parseInline(a.tokens),a.depth,unescape(this.parseInline(a.tokens,this.textRenderer)));continue}case"code":{const a=o;s+=this.renderer.code(a.text,a.lang,!!a.escaped);continue}case"table":{const a=o;let l="",c="";for(let d=0;d<a.header.length;d++)c+=this.renderer.tablecell(this.parseInline(a.header[d].tokens),{header:!0,align:a.align[d]});l+=this.renderer.tablerow(c);let u="";for(let d=0;d<a.rows.length;d++){const p=a.rows[d];c="";for(let h=0;h<p.length;h++)c+=this.renderer.tablecell(this.parseInline(p[h].tokens),{header:!1,align:a.align[h]});u+=this.renderer.tablerow(c)}s+=this.renderer.table(l,u);continue}case"blockquote":{const a=o,l=this.parse(a.tokens);s+=this.renderer.blockquote(l);continue}case"list":{const a=o,l=a.ordered,c=a.start,u=a.loose;let d="";for(let p=0;p<a.items.length;p++){const h=a.items[p],f=h.checked,m=h.task;let b="";if(h.task){const w=this.renderer.checkbox(!!f);u?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=w+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=w+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:w+" "}):b+=w+" "}b+=this.parse(h.tokens,u),d+=this.renderer.listitem(b,m,!!f)}s+=this.renderer.list(d,l,c);continue}case"html":{const a=o;s+=this.renderer.html(a.text,a.block);continue}case"paragraph":{const a=o;s+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{let a=o,l=a.tokens?this.parseInline(a.tokens):a.text;for(;r+1<e.length&&e[r+1].type==="text";)a=e[++r],l+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);s+=t?this.renderer.paragraph(l):l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}parseInline(e,t){t=t||this.renderer;let s="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){s+=a||"";continue}}switch(o.type){case"escape":{const a=o;s+=t.text(a.text);break}case"html":{const a=o;s+=t.html(a.text);break}case"link":{const a=o;s+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{const a=o;s+=t.image(a.href,a.title,a.text);break}case"strong":{const a=o;s+=t.strong(this.parseInline(a.tokens,t));break}case"em":{const a=o;s+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{const a=o;s+=t.codespan(a.text);break}case"br":{s+=t.br();break}case"del":{const a=o;s+=t.del(this.parseInline(a.tokens,t));break}case"text":{const a=o;s+=t.text(a.text);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}}class _Hooks{constructor(e){k(this,"options");this.options=e||_defaults}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}k(_Hooks,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var N,j,B,X;class Marked{constructor(...e){U(this,N);U(this,B);k(this,"defaults",_getDefaults());k(this,"options",this.setOptions);k(this,"parse",z(this,N,j).call(this,_Lexer.lex,_Parser.parse));k(this,"parseInline",z(this,N,j).call(this,_Lexer.lexInline,_Parser.parseInline));k(this,"Parser",_Parser);k(this,"Renderer",_Renderer);k(this,"TextRenderer",_TextRenderer);k(this,"Lexer",_Lexer);k(this,"Tokenizer",_Tokenizer);k(this,"Hooks",_Hooks);this.use(...e)}walkTokens(e,t){var r,o;let s=[];for(const a of e)switch(s=s.concat(t.call(this,a)),a.type){case"table":{const l=a;for(const c of l.header)s=s.concat(this.walkTokens(c.tokens,t));for(const c of l.rows)for(const u of c)s=s.concat(this.walkTokens(u.tokens,t));break}case"list":{const l=a;s=s.concat(this.walkTokens(l.items,t));break}default:{const l=a;(o=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&o[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const u=l[c].flat(1/0);s=s.concat(this.walkTokens(u,t))}):l.tokens&&(s=s.concat(this.walkTokens(l.tokens,t)))}}return s}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const r={...s};if(r.async=this.defaults.async||r.async||!1,s.extensions&&(s.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const a=t.renderers[o.name];a?t.renderers[o.name]=function(...l){let c=o.renderer.apply(this,l);return c===!1&&(c=a.apply(this,l)),c}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=t[o.level];a?a.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),s.renderer){const o=this.defaults.renderer||new _Renderer(this.defaults);for(const a in s.renderer){if(!(a in o))throw new Error(`renderer '${a}' does not exist`);if(a==="options")continue;const l=a,c=s.renderer[l],u=o[l];o[l]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=u.apply(o,d)),p||""}}r.renderer=o}if(s.tokenizer){const o=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const a in s.tokenizer){if(!(a in o))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const l=a,c=s.tokenizer[l],u=o[l];o[l]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=u.apply(o,d)),p}}r.tokenizer=o}if(s.hooks){const o=this.defaults.hooks||new _Hooks;for(const a in s.hooks){if(!(a in o))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;const l=a,c=s.hooks[l],u=o[l];_Hooks.passThroughHooks.has(a)?o[l]=d=>{if(this.defaults.async)return Promise.resolve(c.call(o,d)).then(h=>u.call(o,h));const p=c.call(o,d);return u.call(o,p)}:o[l]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=u.apply(o,d)),p}}r.hooks=o}if(s.walkTokens){const o=this.defaults.walkTokens,a=s.walkTokens;r.walkTokens=function(l){let c=[];return c.push(a.call(this,l)),o&&(c=c.concat(o.call(this,l))),c}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return _Lexer.lex(e,t??this.defaults)}parser(e,t){return _Parser.parse(e,t??this.defaults)}}N=new WeakSet,j=function(e,t){return(s,r)=>{const o={...r},a={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const l=z(this,B,X).call(this,!!a.silent,!!a.async);if(typeof s>"u"||s===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(s):s).then(c=>e(c,a)).then(c=>a.hooks?a.hooks.processAllTokens(c):c).then(c=>a.walkTokens?Promise.all(this.walkTokens(c,a.walkTokens)).then(()=>c):c).then(c=>t(c,a)).then(c=>a.hooks?a.hooks.postprocess(c):c).catch(l);try{a.hooks&&(s=a.hooks.preprocess(s));let c=e(s,a);a.hooks&&(c=a.hooks.processAllTokens(c)),a.walkTokens&&this.walkTokens(c,a.walkTokens);let u=t(c,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(c){return l(c)}}},B=new WeakSet,X=function(e,t){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+escape$1(s.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(s);throw s}};const markedInstance=new Marked;function marked(n,e){return markedInstance.parse(n,e)}marked.options=marked.setOptions=function(n){return markedInstance.setOptions(n),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...n){return markedInstance.use(...n),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(n,e){return markedInstance.walkTokens(n,e)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;function normalizeComponent(n,e,t,s,r,o,a,l){var c=typeof n=="function"?n.options:n;e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),s&&(c.functional=!0),o&&(c._scopeId="data-v-"+o);var u;if(a?(u=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__<"u"&&(h=__VUE_SSR_CONTEXT__),r&&r.call(this,h),h&&h._registeredComponents&&h._registeredComponents.add(a)},c._ssrRegister=u):r&&(u=l?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var d=c.render;c.render=function(f,m){return u.call(m),d(f,m)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,u):[u]}return{exports:n,options:c}}const _sfc_main$h={props:{config:{type:Object,required:!0},value:{required:!0},meta:{},errors:{type:Array},readOnly:Boolean,syncable:Boolean,namePrefix:String,fieldPathPrefix:String},inject:{storeName:{default:null},isInsideConfigFields:{default:!1}},computed:{fieldtypeComponent(){return`${this.config.component||this.config.type}-fieldtype`},fieldtypeComponentExists(){return Vue.options.components[this.fieldtypeComponent]!==void 0},instructions(){return this.config.instructions?this.renderMarkdownAndLinks(__(this.config.instructions)):null},hasError(){return this.errors&&this.errors.length>0},isReadOnly(){return this.storeState.isRoot===!1&&!this.config.localizable?!0:this.isLocked||this.readOnly||this.config.visibility==="read_only"||!1},isLocalizable(){return this.$config.get("sites").length>1&&this.config.localizable},isTab(){return this.config.type==="tab"},isSection(){return this.config.type==="section"},classes(){return["form-group publish-field","publish-field__"+this.config.handle,`${this.config.component||this.config.type}-fieldtype`,,this.isReadOnly?"read-only-field":"",this.isInsideConfigFields?"config-field":`${tailwind_width_class(this.config.width)}`,this.config.classes||"",this.config.full_width_setting?"full-width-setting":"",{"has-error":this.hasError||this.hasNestedError}]},fieldId(){return"field_"+this.config.handle},locks(){return this.storeState.fieldLocks||{}},isLocked(){return Object.keys(this.locks).includes(this.config.handle)},lockingUser(){if(this.isLocked){let n=this.locks[this.config.handle];if(typeof n=="object")return n}},isSynced(){if(this.syncable)return!this.storeState.localizedFields.includes(this.config.handle)},storeState(){return this.$store.state.publish[this.storeName]||{}},hasNestedError(){const n=`${this.fieldPathPrefix||this.config.handle}.`;return Object.keys(this.storeState.errors??[]).some(e=>e.startsWith(n))},labelText(){return this.config.display||Vue.$options.filters.titleize(Vue.$options.filters.deslugify(this.config.handle))},showLabelText(){return!this.config.hide_display},showLabel(){return this.showLabelText||this.isReadOnly||this.config.required||this.isLocked||this.isLocalizable||this.syncable}},methods:{focused(){this.isLocked||this.$emit("focus")},blurred(){this.isLocked||this.$emit("blur")},renderMarkdownAndLinks(n){var e=new marked.Renderer;return e.link=function(t,s,r){var o=marked.Renderer.prototype.link.call(this,t,s,r);return o.replace("<a","<a target='_blank' ")},marked.setOptions({renderer:e}),marked(n)}}};var _sfc_render$h=function(){var e=this,t=e._self._c;return t("publish-field-meta",{attrs:{config:e.config,"initial-value":e.value,"initial-meta":e.meta},scopedSlots:e._u([{key:"default",fn:function({meta:s,value:r,loading:o}){return t("div",{class:e.classes},[t("div",{staticClass:"field-inner"},[e.showLabel?t("label",{staticClass:"publish-field-label",class:{"font-bold":e.config.bold},attrs:{for:e.fieldId}},[e.showLabelText?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.config.handle,delay:500,autoHide:!1},expression:"{content: config.handle, delay: 500, autoHide: false}"}],staticClass:"rtl:ml-1 ltr:mr-1",class:{"text-gray-600":e.syncable&&e.isSynced},domProps:{textContent:e._s(e.__(e.labelText))}}):e._e(),e.showLabelText&&e.config.required?t("i",{staticClass:"required rtl:ml-1 ltr:mr-1"},[e._v("*")]):e._e(),e.isLocked?t("avatar",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.lockingUser.name,expression:"lockingUser.name"}],staticClass:"w-6 h-6 rounded-full -mt-px rtl:mr-2 ltr:ml-2 rtl:ml-2 ltr:mr-2",attrs:{user:e.lockingUser}}):e._e(),e.isReadOnly&&!e.isTab&&!e.isSection?t("span",{staticClass:"text-gray-500 font-normal text-2xs rtl:ml-1 ltr:mr-1"},[e._v(" "+e._s(e.isLocked?e.__("Locked"):e.__("Read Only"))+" ")]):e._e(),e.isLocalizable&&!e.isTab?t("svg-icon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.__("Localizable field"),expression:"__('Localizable field')",modifiers:{top:!0}}],staticClass:"h-4 rtl:ml-1 ltr:mr-1 w-4 text-gray-600",attrs:{name:"translate"}}):e._e(),!e.isReadOnly&&!e.isTab?t("button",{directives:[{name:"show",rawName:"v-show",value:e.syncable&&e.isSynced,expression:"syncable && isSynced"}],staticClass:"outline-none",class:{flex:e.syncable&&e.isSynced},on:{click:function(a){return e.$emit("desynced")}}},[t("svg-icon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.__("messages.field_synced_with_origin"),expression:"__('messages.field_synced_with_origin')",modifiers:{top:!0}}],staticClass:"h-4 w-4 rtl:ml-1.5 ltr:mr-1.5 mb-1 text-gray-600",attrs:{name:"light/hyperlink"}})],1):e._e(),!e.isReadOnly&&!e.isTab?t("button",{directives:[{name:"show",rawName:"v-show",value:e.syncable&&!e.isSynced,expression:"syncable && !isSynced"}],staticClass:"outline-none",class:{flex:e.syncable&&!e.isSynced},on:{click:function(a){return e.$emit("synced")}}},[t("svg-icon",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.__("messages.field_desynced_from_origin"),expression:"__('messages.field_desynced_from_origin')",modifiers:{top:!0}}],staticClass:"h-4 w-4 rtl:ml-1.5 ltr:mr-1.5 mb-1 text-gray-600",attrs:{name:"light/hyperlink-broken"}})],1):e._e()],1):e._e(),e.instructions&&e.config.instructions_position!=="below"?t("div",{staticClass:"help-block",class:{"-mt-2":e.showLabel},domProps:{innerHTML:e._s(e.instructions)}}):e._e()]),o?t("loading-graphic",{attrs:{size:16,inline:!0}}):e._e(),o?e._e():e._t("fieldtype",function(){return[e.fieldtypeComponentExists?t(e.fieldtypeComponent,{tag:"component",attrs:{config:e.config,value:r,meta:s,handle:e.config.handle,"name-prefix":e.namePrefix,"field-path-prefix":e.fieldPathPrefix,"read-only":e.isReadOnly},on:{input:function(a){return e.$emit("input",a)},"meta-updated":function(a){return e.$emit("meta-updated",a)},focus:e.focused,blur:e.blurred}}):t("div",{staticClass:"text-xs text-red-500"},[e._v("Component "),t("code",{domProps:{textContent:e._s(e.fieldtypeComponent)}}),e._v(" does not exist.")])]}),e.instructions&&e.config.instructions_position==="below"?t("div",{staticClass:"help-block mt-2",domProps:{innerHTML:e._s(e.instructions)}}):e._e(),e.hasError?t("div",e._l(e.errors,function(a,l){return t("small",{key:l,staticClass:"help-block text-red-500 mt-2 mb-0",domProps:{textContent:e._s(a)}})}),0):e._e()],2)}}],null,!0)})},_sfc_staticRenderFns$h=[],__component__$h=normalizeComponent(_sfc_main$h,_sfc_render$h,_sfc_staticRenderFns$h,!1,null,null,null,null);const PublishField=__component__$h.exports;var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),t}function commonjsRequire(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uniqid$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var pid=typeof process<"u"&&process.pid?process.pid.toString(36):"",address="";if(typeof __webpack_require__!="function"&&typeof commonjsRequire<"u"){var mac="",os=require$$0;if(os.networkInterfaces)var networkInterfaces=os.networkInterfaces();if(networkInterfaces){e:for(let n in networkInterfaces){const e=networkInterfaces[n],t=e.length;for(var i=0;i<t;i++)if(e[i]!==void 0&&e[i].mac&&e[i].mac!="00:00:00:00:00:00"){mac=e[i].mac;break e}}address=mac?parseInt(mac.replace(/\:|\D+/gi,"")).toString(36):""}}uniqid$1.exports=uniqid$1.exports.default=function(n,e){return(n||"")+address+pid+now().toString(36)+(e||"")};uniqid$1.exports.process=function(n,e){return(n||"")+pid+now().toString(36)+(e||"")};uniqid$1.exports.time=function(n,e){return(n||"")+now().toString(36)+(e||"")};function now(){var n=Date.now(),e=now.last||n;return now.last=n>e?n:e+1}var uniqidExports=uniqid$1.exports;const uniqid=getDefaultExportFromCjs(uniqidExports),KEYS=["if","if_any","show_when","show_when_any","unless","unless_any","hide_when","hide_when_any"],OPERATORS=["equals","not","contains","contains_any","===","!==",">",">=","<","<=","custom"],ALIASES={is:"equals","==":"equals",isnt:"not","!=":"not",includes:"contains",includes_any:"contains_any"};var VERSION="1.13.6",root=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,_isNaN=isNaN,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function _$1(n){if(n instanceof _$1)return n;if(!(this instanceof _$1))return new _$1(n);this._wrapped=n}_$1.VERSION=VERSION;_$1.prototype.value=function(){return this._wrapped};_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value;_$1.prototype.toString=function(){return String(this._wrapped)};function identity(n){return n}function tagTester(n){var e="[object "+n+"]";return function(t){return toString.call(t)===e}}var isFunction$1=tagTester("Function"),nodelist=root.document&&root.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof nodelist!="function"&&(isFunction$1=function(n){return typeof n=="function"||!1});const isFunction$2=isFunction$1;function isObject(n){var e=typeof n;return e==="function"||e==="object"&&!!n}const isArray=nativeIsArray||tagTester("Array");function createAssigner(n,e){return function(t){var s=arguments.length;if(e&&(t=Object(t)),s<2||t==null)return t;for(var r=1;r<s;r++)for(var o=arguments[r],a=n(o),l=a.length,c=0;c<l;c++){var u=a[c];(!e||t[u]===void 0)&&(t[u]=o[u])}return t}}function has(n,e){return n!=null&&hasOwnProperty.call(n,e)}function emulatedSet(n){for(var e={},t=n.length,s=0;s<t;++s)e[n[s]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,n.push(r)}}}function collectNonEnumProps(n,e){e=emulatedSet(e);var t=nonEnumerableProps.length,s=n.constructor,r=isFunction$2(s)&&s.prototype||ObjProto,o="constructor";for(has(n,o)&&!e.contains(o)&&e.push(o);t--;)o=nonEnumerableProps[t],o in n&&n[o]!==r[o]&&!e.contains(o)&&e.push(o)}function keys(n){if(!isObject(n))return[];if(nativeKeys)return nativeKeys(n);var e=[];for(var t in n)has(n,t)&&e.push(t);return hasEnumBug&&collectNonEnumProps(n,e),e}const extendOwn=createAssigner(keys);function isMatch(n,e){var t=keys(e),s=t.length;if(n==null)return!s;for(var r=Object(n),o=0;o<s;o++){var a=t[o];if(e[a]!==r[a]||!(a in r))return!1}return!0}function matcher(n){return n=extendOwn({},n),function(e){return isMatch(e,n)}}function deepGet(n,e){for(var t=e.length,s=0;s<t;s++){if(n==null)return;n=n[e[s]]}return t?n:void 0}function toPath$1(n){return isArray(n)?n:[n]}_$1.toPath=toPath$1;function toPath(n){return _$1.toPath(n)}function property(n){return n=toPath(n),function(e){return deepGet(e,n)}}function optimizeCb(n,e,t){if(e===void 0)return n;switch(t??3){case 1:return function(s){return n.call(e,s)};case 3:return function(s,r,o){return n.call(e,s,r,o)};case 4:return function(s,r,o,a){return n.call(e,s,r,o,a)}}return function(){return n.apply(e,arguments)}}function baseIteratee(n,e,t){return n==null?identity:isFunction$2(n)?optimizeCb(n,e,t):isObject(n)&&!isArray(n)?matcher(n):property(n)}function iteratee(n,e){return baseIteratee(n,e,1/0)}_$1.iteratee=iteratee;function cb(n,e,t){return _$1.iteratee!==iteratee?_$1.iteratee(n,e):baseIteratee(n,e,t)}function createSizePropertyCheck(n){return function(e){var t=n(e);return typeof t=="number"&&t>=0&&t<=MAX_ARRAY_INDEX}}function shallowProperty(n){return function(e){return e==null?void 0:e[n]}}const getLength=shallowProperty("length"),isArrayLike=createSizePropertyCheck(getLength);function map(n,e,t){e=cb(e,t);for(var s=!isArrayLike(n)&&keys(n),r=(s||n).length,o=Array(r),a=0;a<r;a++){var l=s?s[a]:a;o[a]=e(n[l],l,n)}return o}function each(n,e,t){e=optimizeCb(e,t);var s,r;if(isArrayLike(n))for(s=0,r=n.length;s<r;s++)e(n[s],s,n);else{var o=keys(n);for(s=0,r=o.length;s<r;s++)e(n[o[s]],o[s],n)}return n}function filter(n,e,t){var s=[];return e=cb(e,t),each(n,function(r,o,a){e(r,o,a)&&s.push(r)}),s}function chain(n){var e=_$1(n);return e._chain=!0,e}function functions(n){var e=[];for(var t in n)isFunction$2(n[t])&&e.push(t);return e.sort()}function chainResult(n,e){return n._chain?_$1(e).chain():e}function mixin(n){return each(functions(n),function(e){var t=_$1[e]=n[e];_$1.prototype[e]=function(){var s=[this._wrapped];return push.apply(s,arguments),chainResult(this,t.apply(_$1,s))}}),_$1}mixin({chain,filter,each});class Converter{fromBlueprint(e,t=null){return map(e,(s,r)=>this.splitRhs(r,s,t))}toBlueprint(e){let t={};return each(e,s=>{t[s.field]=this.combineRhs(s)}),t}splitRhs(e,t,s=null){return{field:this.getScopedFieldHandle(e,s),operator:this.getOperatorFromRhs(t),value:this.getValueFromRhs(t)}}getScopedFieldHandle(e,t){return e.startsWith("root.")||!t?e:t+e}getOperatorFromRhs(e){let t="==";return chain(this.getOperatorsAndAliases()).filter(s=>new RegExp(`^${s} [^=]`).test(this.normalizeConditionString(e))).each(s=>t=s),this.normalizeOperator(t)}normalizeOperator(e){return ALIASES[e]?ALIASES[e]:e}getValueFromRhs(e){let t=this.normalizeConditionString(e);return chain(this.getOperatorsAndAliases()).filter(s=>new RegExp(`^${s} [^=]`).test(t)).each(s=>t=t.replace(new RegExp(`^${s}[ ]*`),"")),t}combineRhs(e){let t=e.operator?e.operator.trim():"",s=e.value.trim();return`${t} ${s}`.trim()}getOperatorsAndAliases(){return OPERATORS.concat(Object.keys(ALIASES))}normalizeConditionString(e){return e===null?"null":e===""?"empty":e.toString()}}function data_get(n,e,t=null){var s=Array.isArray(e)?e:e.split("."),r=s.reduce((o,a)=>o&&o[a],n);return r!==void 0?r:t}function data_set(n,e,t){for(var s=e.split(".");s.length-1;){var r=s.shift(),o=s.length?new RegExp("^[0-9]+$").test(s[0]):!1;r in n||(n[r]=o?[]:{}),n=n[r]}n[s[0]]=t}function clone$1(n){if(n!==void 0)return JSON.parse(JSON.stringify(n))}const isString=tagTester("String");var isArguments=tagTester("Arguments");(function(){isArguments(arguments)||(isArguments=function(n){return has(n,"callee")})})();const isArguments$1=isArguments;function isEmpty(n){if(n==null)return!0;var e=getLength(n);return typeof e=="number"&&(isArray(n)||isString(n)||isArguments$1(n))?e===0:getLength(keys(n))===0}function values(n){for(var e=keys(n),t=e.length,s=Array(t),r=0;r<t;r++)s[r]=n[e[r]];return s}function sortedIndex(n,e,t,s){t=cb(t,s,1);for(var r=t(e),o=0,a=getLength(n);o<a;){var l=Math.floor((o+a)/2);t(n[l])<r?o=l+1:a=l}return o}function createPredicateIndexFinder(n){return function(e,t,s){t=cb(t,s);for(var r=getLength(e),o=n>0?0:r-1;o>=0&&o<r;o+=n)if(t(e[o],o,e))return o;return-1}}const findIndex=createPredicateIndexFinder(1),isNumber=tagTester("Number");function isNaN$1(n){return isNumber(n)&&_isNaN(n)}function createIndexFinder(n,e,t){return function(s,r,o){var a=0,l=getLength(s);if(typeof o=="number")n>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(t&&o&&l)return o=t(s,r),s[o]===r?o:-1;if(r!==r)return o=e(slice.call(s,a,l),isNaN$1),o>=0?o+a:-1;for(o=n>0?a:l-1;o>=0&&o<l;o+=n)if(s[o]===r)return o;return-1}}const indexOf=createIndexFinder(1,findIndex,sortedIndex);function contains(n,e,t,s){return isArrayLike(n)||(n=values(n)),(typeof t!="number"||s)&&(t=0),indexOf(n,e,t)>=0}function intersection(n){for(var e=[],t=arguments.length,s=0,r=getLength(n);s<r;s++){var o=n[s];if(!contains(e,o)){var a;for(a=1;a<t&&contains(arguments[a],o);a++);a===t&&e.push(o)}}return e}function negate(n){return function(){return!n.apply(this,arguments)}}function reject(n,e,t){return filter(n,negate(cb(e)),t)}function initial(n,e,t){return slice.call(n,0,Math.max(0,n.length-(e==null||t?1:e)))}function first(n,e,t){return n==null||n.length<1?e==null||t?void 0:[]:e==null||t?n[0]:initial(n,n.length-e)}mixin({chain,map,each,filter,reject,first,isEmpty});const NUMBER_SPECIFIC_COMPARISONS=[">",">=","<","<="];class Validator{constructor(n,e,t,s){this.field=n,this.values=e,this.rootValues=t?t.state.publish[s].values:!1,this.store=t,this.storeName=s,this.passOnAny=!1,this.showOnPass=!0,this.converter=new Converter}passesConditions(n){let e=n||this.getConditions();if(e===void 0)return!0;if(this.isCustomConditionWithoutTarget(e))return this.passesCustomCondition(this.prepareCondition(e));let t=this.passOnAny?this.passesAnyConditions(e):this.passesAllConditions(e);return this.showOnPass?t:!t}getConditions(){let n=chain(KEYS).filter(t=>this.field[t]).first().value();if(!n)return;n.includes("any")&&(this.passOnAny=!0),(n.includes("unless")||n.includes("hide_when"))&&(this.showOnPass=!1);let e=this.field[n];return this.isCustomConditionWithoutTarget(e)?e:this.converter.fromBlueprint(e,this.field.prefix)}isCustomConditionWithoutTarget(n){return isString(n)}passesAllConditions(n){return chain(n).map(e=>this.prepareCondition(e)).reject(e=>this.passesCondition(e)).isEmpty().value()}passesAnyConditions(n){return!chain(n).map(e=>this.prepareCondition(e)).filter(e=>this.passesCondition(e)).isEmpty().value()}prepareCondition(n){if(isString(n)||n.operator==="custom")return this.prepareCustomCondition(n);let e=this.prepareOperator(n.operator),t=this.prepareLhs(n.field,e),s=this.prepareRhs(n.value,e);return{lhs:t,operator:e,rhs:s}}prepareOperator(n){switch(n){case null:case"":case"is":case"equals":return"==";case"isnt":case"not":case"¯\\_(ツ)_/¯":return"!=";case"includes":case"contains":return"includes";case"includes_any":case"contains_any":return"includes_any"}return n}prepareLhs(n,e){let t=this.getFieldValue(n);return NUMBER_SPECIFIC_COMPARISONS.includes(e)?Number(t):e==="includes"&&!isObject(t)?t?t.toString():"":(isString(t)&&isEmpty(t)&&(t=null),isString(t)?JSON.stringify(t.trim()):t)}prepareRhs(n,e){switch(n){case"null":return null;case"true":return!0;case"false":return!1}return NUMBER_SPECIFIC_COMPARISONS.includes(e)?Number(n):n==="empty"||e==="includes"||e==="includes_any"?n:isString(n)?JSON.stringify(n.trim()):n}prepareCustomCondition(n){let e=this.prepareFunctionName(n.value||n),t=this.prepareParams(n.value||n),s=n.field?this.getFieldValue(n.field):null,r=n.field;return{functionName:e,params:t,target:s,targetHandle:r}}prepareFunctionName(n){return n.replace(new RegExp("^custom "),"").split(":")[0]}prepareParams(n){let e=n.split(":")[1];return e?e.split(",").map(t=>t.trim()):[]}getFieldValue(n){return n.startsWith("root.")?data_get(this.rootValues,n.replace(new RegExp("^root."),"")):data_get(this.values,n)}passesCondition(condition){return condition.functionName?this.passesCustomCondition(condition):condition.operator==="includes"?this.passesIncludesCondition(condition):condition.operator==="includes_any"?this.passesIncludesAnyCondition(condition):(condition.rhs==="empty"&&(condition.lhs=isEmpty(condition.lhs),condition.rhs=!0),isObject(condition.lhs)?!1:eval(`${condition.lhs} ${condition.operator} ${condition.rhs}`))}passesIncludesCondition(n){return n.lhs.includes(n.rhs)}passesIncludesAnyCondition(n){let e=n.rhs.split(",").map(t=>t.trim());return Array.isArray(n.lhs)?intersection(n.lhs,e).length:new RegExp(e.join("|")).test(n.lhs)}passesCustomCondition(n){let e=data_get(this.store.state.statamic.conditions,n.functionName);if(typeof e!="function")return console.error(`Statamic field condition [${n.functionName}] was not properly defined.`),!1;let t=e({params:n.params,target:n.target,targetHandle:n.targetHandle,values:this.values,root:this.rootValues,store:this.store,storeName:this.storeName});return this.showOnPass?t:!t}passesNonRevealerConditions(n){let e=this.getConditions();if(this.isCustomConditionWithoutTarget(e))return this.passesConditions(e);let t=data_get(this.store.state.publish[this.storeName],"revealerFields",[]),s=chain(this.getConditions()).reject(r=>t.includes(this.relativeLhsToAbsoluteFieldPath(r.field,n))).value();return this.passesConditions(s)}relativeLhsToAbsoluteFieldPath(n,e){return e?n.startsWith("root.")?n.replace(/^root\./,""):e+"."+n:n}}const ValidatesFieldConditions={inject:{storeName:{default:"base"}},methods:{showField(n,e){let t=e||n.handle,s=e?e.replace(new RegExp("."+n.handle+"$"),""):"";if(n.visibility==="hidden"||this.shouldForceHiddenField(t))return this.$store.commit(`publish/${this.storeName}/setHiddenField`,{dottedKey:t,hidden:"force",omitValue:!1}),!1;let r=new Validator(n,this.values,this.$store,this.storeName),o=r.passesConditions();return n.always_save===!0?(this.$store.commit(`publish/${this.storeName}/setHiddenField`,{dottedKey:t,hidden:!o,omitValue:!1}),o):(this.$nextTick(()=>{this.$store.commit(`publish/${this.storeName}/setHiddenField`,{dottedKey:t,hidden:!o,omitValue:n.type==="revealer"||!r.passesNonRevealerConditions(s)})}),o)},shouldForceHiddenField(n){return data_get(this.$store.state.publish[this.storeName].hiddenFields[n],"hidden")==="force"}}},_sfc_main$g={components:{PublishField},mixins:[ValidatesFieldConditions],inject:["storeName"],props:{fields:{type:Array,required:!0},readOnly:Boolean,syncable:Boolean,syncableFields:Array,namePrefix:String},computed:{state(){return this.$store.state.publish[this.storeName]},values(){return this.state.values},meta(){return this.state.meta},errors(){return this.state.errors}},methods:{isSyncableField(n){return this.syncable?this.syncableFields?this.syncableFields.includes(n.handle):!0:!1}}};var _sfc_render$g=function n(){var e=this,t=e._self._c;return t("div",{staticClass:"publish-fields @container"},e._l(e.fields,function(s){return t("publish-field",{directives:[{name:"show",rawName:"v-show",value:e.showField(s),expression:"showField(field)"}],key:s.handle,attrs:{config:s,value:e.values[s.handle],meta:e.meta[s.handle],errors:e.errors[s.handle],"read-only":e.readOnly,syncable:e.isSyncableField(s),"name-prefix":e.namePrefix},on:{input:function(r){return e.$emit("updated",s.handle,r)},"meta-updated":function(r){return e.$emit("meta-updated",s.handle,r)},synced:function(r){return e.$emit("synced",s.handle)},desynced:function(r){return e.$emit("desynced",s.handle)},focus:function(r){return e.$emit("focus",s.handle)},blur:function(r){return e.$emit("blur",s.handle)}}})}),1)},_sfc_staticRenderFns$g=[],__component__$g=normalizeComponent(_sfc_main$g,_sfc_render$g,_sfc_staticRenderFns$g,!1,null,null,null,null);const PublishFields=__component__$g.exports,_sfc_main$f={components:{PublishFields},props:{action:{type:Object,required:!0},selections:{type:Number,required:!0},errors:{type:Object}},data(){return{confirming:!1,fieldset:{tabs:[{fields:this.action.fields}]},values:this.action.values}},computed:{confirmationText(){if(this.action.confirmationText)return __n(this.action.confirmationText,this.selections)},warningText(){if(this.action.warningText)return __n(this.action.warningText,this.selections)},runButtonText(){return __n(this.action.buttonText,this.selections)}},created(){this.$events.$on("reset-action-modals",this.reset)},destroyed(){this.$events.$off("reset-action-modals",this.reset)},methods:{select(){if(this.action.confirm){this.confirming=!0;return}this.$emit("selected",this.action,this.values)},confirm(){this.$emit("selected",this.action,this.values)},reset(){this.confirming=!1,this.values=clone(this.action.values)}}};var _sfc_render$f=function n(){var e=this,t=e._self._c;return t("span",[e._t("default",null,{action:e.action,select:e.select}),e.confirming?t("confirmation-modal",{attrs:{title:e.action.title,danger:e.action.dangerous,buttonText:e.runButtonText},on:{confirm:e.confirm,cancel:e.reset}},[e.confirmationText?t("div",{class:{"mb-4":e.warningText||e.action.fields.length},domProps:{textContent:e._s(e.confirmationText)}}):e._e(),e.warningText?t("div",{staticClass:"text-red-500",class:{"mb-4":e.action.fields.length},domProps:{textContent:e._s(e.warningText)}}):e._e(),e.action.fields.length?t("publish-container",{attrs:{name:"confirm-action",blueprint:e.fieldset,values:e.values,meta:e.action.meta,errors:e.errors},on:{updated:function(s){e.values=s}},scopedSlots:e._u([{key:"default",fn:function({setFieldValue:s,setFieldMeta:r}){return t("publish-fields",{attrs:{fields:e.action.fields},on:{updated:s,"meta-updated":r}})}}],null,!1,3839930647)}):e._e()],1):e._e()],2)},_sfc_staticRenderFns$f=[],__component__$f=normalizeComponent(_sfc_main$f,_sfc_render$f,_sfc_staticRenderFns$f,!1,null,null,null,null);const DataListAction=__component__$f.exports,Actions={components:{DataListAction},props:{url:String},data(){return{errors:{}}},computed:{sortedActions(){let n=_.sortBy(this.actions,"title");return[...n.filter(e=>!e.dangerous),...n.filter(e=>e.dangerous)]}},methods:{run(n,e){this.$emit("started"),this.errors={};const t={action:n.handle,context:n.context,selections:this.selections,values:e};this.$axios.post(this.url,t,{responseType:"blob"}).then(s=>{s.headers["content-disposition"]?this.handleFileDownload(s):this.handleActionSuccess(s)}).catch(s=>this.handleActionError(s.response))},handleActionSuccess(n){n.data.text().then(e=>{e=JSON.parse(e),e.redirect&&(window.location=e.redirect),e.callback&&Statamic.$callbacks.call(e.callback[0],...e.callback.slice(1)),this.$emit("completed",!0,e)})},handleActionError(n){n.data.text().then(e=>{e=JSON.parse(e),n.status==422&&(this.errors=e.errors),this.$toast.error(e.message),this.$emit("completed",!1,e)})},handleFileDownload(n){const e=n.headers["content-disposition"].match(/^attachment.+filename\*?=(?:UTF-8'')?"?([^"]+)"?/i)||[];if(!e.length)return;const t=e.length>=2?e[1]:"file.txt",s=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=s,r.setAttribute("download",t),document.body.appendChild(r),r.click(),this.$emit("completed",!0)}}},_sfc_main$e={mixins:[Actions],props:{actions:{type:Array,required:!0},id:{type:String,required:!0}},computed:{selections(){return[this.id]}},created(){this.$events.$on("editor-action-selected",this.actionSelected)},methods:{findActionComponent(n){return _.find(this.$refs.actions,e=>e.action.handle===n)},actionSelected(n){this.findActionComponent(n.action).confirming=!0}}};var _sfc_render$e=function n(){var e=this,t=e._self._c;return t("div",e._l(e.actions,function(s){return t("data-list-action",{key:s.handle,ref:"actions",refInFor:!0,attrs:{action:s,selections:1,errors:e.errors},on:{selected:e.run}})}),1)},_sfc_staticRenderFns$e=[],__component__$e=normalizeComponent(_sfc_main$e,_sfc_render$e,_sfc_staticRenderFns$e,!1,null,null,null,null);const EditorActions=__component__$e.exports,_sfc_main$d={props:["x","y","z","imageUrl","imageDimensions"],data(){return{frameDimensions:{w:100,h:100}}},mounted(){const n=this.$refs.frame;this.frameDimensions={w:n.clientWidth,h:n.clientHeight}},computed:{bgImageDimensions(){const n=({w:e,h:t})=>e/t;return n(this.imageDimensions)>n(this.frameDimensions)?{h:this.frameDimensions.h,w:this.frameDimensions.h/this.imageDimensions.h*this.imageDimensions.w}:{w:this.frameDimensions.w,h:this.frameDimensions.w/this.imageDimensions.w*this.imageDimensions.h}},frameWidthPercent(){return this.frameDimensions.w/this.bgImageDimensions.w*100},frameHeightPercent(){return this.frameDimensions.h/this.bgImageDimensions.h*100},relOffsetLeft(){let n=this.x-this.frameWidthPercent/2;return n=Math.max(n,0),Math.min(n,100-this.frameWidthPercent)},offsetLeft(){return this.relOffsetLeft*this.bgImageDimensions.w/100},relOffsetTop(){let n=this.y-this.frameHeightPercent/2;return n=Math.max(n,0),Math.min(n,100-this.frameHeightPercent)},offsetTop(){return this.relOffsetTop*this.bgImageDimensions.h/100},backgroundPosition(){return`-${this.offsetLeft}px -${this.offsetTop}px`},transformOrigin(){const n={x:(this.x-this.relOffsetLeft)/this.frameWidthPercent*100,y:(this.y-this.relOffsetTop)/this.frameHeightPercent*100};return`${n.x}% ${n.y}%`}}};var _sfc_render$d=function n(){var e=this,t=e._self._c;return t("div",{ref:"frame",staticClass:"frame-image",style:{backgroundImage:`url('${encodeURI(e.imageUrl)}')`,backgroundPosition:e.backgroundPosition,transform:`scale(${e.z})`,transformOrigin:e.transformOrigin}})},_sfc_staticRenderFns$d=[],__component__$d=normalizeComponent(_sfc_main$d,_sfc_render$d,_sfc_staticRenderFns$d,!1,null,null,null,null);const FocalPointPreviewFrame=__component__$d.exports,_sfc_main$c={components:{FocalPointPreviewFrame},props:["data","image"],data(){return{x:50,y:50,z:1,imageDimensions:null}},mounted(){const e=(this.data||"50-50-1").split("-");this.x=e[0],this.y=e[1],this.z=e[2]||1},computed:{reticleSize(){return!this.imageDimensions||!this.z?0:Math.min(this.imageDimensions.w,this.imageDimensions.h)/this.z}},methods:{setImageDimensions(){const n=this.$refs.image;this.imageDimensions={w:n.clientWidth,h:n.clientHeight}},define(n){var e=n.target.getBoundingClientRect(),t=e.width,s=e.height,r=n.clientX-e.left,o=n.clientY-e.top;this.x=(r/t*100).toFixed(),this.y=(o/s*100).toFixed()},select(){this.$emit("selected",this.x+"-"+this.y+"-"+this.z),this.close()},close(){this.$emit("closed")},reset(){this.x=50,this.y=50,this.z=1}}};var _sfc_render$c=function n(){var e=this,t=e._self._c;return t("portal",{attrs:{name:"focal-point"}},[t("div",{staticClass:"focal-point"},[t("div",{staticClass:"focal-point-toolbox card p-0"},[t("div",{staticClass:"p-4"},[t("label",[e._v(e._s(e.__("Focal Point")))]),t("small",{staticClass:"help-block"},[e._v(e._s(e.__("messages.focal_point_instructions")))]),t("div",{staticClass:"focal-point-image"},[t("img",{ref:"image",attrs:{src:e.image},on:{click:e.define,load:e.setImageDimensions}}),t("div",{staticClass:"focal-point-reticle",class:{zoomed:e.z>1},style:{top:`${e.y}%`,left:`${e.x}%`,width:`${e.reticleSize}px`,height:`${e.reticleSize}px`,marginTop:`-${e.reticleSize/2}px`,marginLeft:`-${e.reticleSize/2}px`}})])]),t("div",{staticClass:"flex items-center text-sm justify-center mb-4"},[t("div",{staticClass:"flex items-center mx-4"},[t("div",{staticClass:"rtl:ml-1 ltr:mr-1"},[e._v("X")]),t("div",{staticClass:"value"},[e._v(e._s(e.x)),t("sup",[e._v("%")])])]),t("div",{staticClass:"flex items-center mx-4"},[t("div",{staticClass:"rtl:ml-1 ltr:mr-1"},[e._v("Y")]),t("div",{staticClass:"value"},[e._v(e._s(e.y)),t("sup",[e._v("%")])])]),t("div",{staticClass:"flex items-center mx-4"},[t("div",{staticClass:"rtl:ml-1 ltr:mr-1"},[e._v("Z")]),t("div",{staticClass:"value"},[e._v(e._s(e.z))])])]),t("div",{staticClass:"px-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.z,expression:"z"}],staticClass:"w-full mb-4",attrs:{type:"range",min:"1",max:"10",step:"0.1"},domProps:{value:e.z},on:{__r:function(s){e.z=s.target.value}}}),t("div",{staticClass:"mb-2 flex flex-wrap items-center justify-center"},[t("button",{staticClass:"btn mb-2",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.close.apply(null,arguments)}}},[e._v(e._s(e.__("Cancel")))]),t("button",{staticClass:"btn mb-2 btn-default mx-2",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.reset.apply(null,arguments)}}},[e._v(e._s(e.__("Reset")))]),t("button",{staticClass:"btn mb-2 btn-primary",attrs:{type:"button"},on:{click:e.select}},[e._v(e._s(e.__("Finish")))])])]),t("h6",{staticClass:"p-4 text-center bg-gray-300 rounded-b"},[e._v(e._s(e.__("messages.focal_point_previews_are_examples")))])]),e._l(9,function(s){return t("div",{key:s,class:`frame frame-${s}`},[e.imageDimensions?t("focal-point-preview-frame",{attrs:{x:e.x,y:e.y,z:e.z,"image-url":e.image,"image-dimensions":e.imageDimensions}}):e._e()],1)})],2)])},_sfc_staticRenderFns$c=[],__component__$c=normalizeComponent(_sfc_main$c,_sfc_render$c,_sfc_staticRenderFns$c,!1,null,null,null,null);const FocalPointEditor=__component__$c.exports;var pdfobject={exports:{}};/**
 *  PDFObject v2.3.0
 *  https://github.com/pipwerks/PDFObject
 *  @license
 *  Copyright (c) 2008-2024 Philip Hutchison
 *  MIT-style license: http://pipwerks.mit-license.org/
 *  UMD module pattern from https://github.com/umdjs/umd/blob/master/templates/returnExports.js
 */(function(n){(function(e,t){n.exports?n.exports=t():e.PDFObject=t()})(commonjsGlobal,function(){if(typeof window>"u"||window.navigator===void 0||window.navigator.userAgent===void 0)return!1;let e="2.3.0",t=window,s=t.navigator,r=s.userAgent,o=!1,a=function(){let g=t.chrome!==void 0,v=t.safari!==void 0||s.vendor!==void 0&&/Apple/.test(s.vendor)&&/Safari/.test(r),x=t.Mozilla!==void 0||/irefox/.test(r);return g||v||x},l=function(g){var v=null;try{v=new ActiveXObject(g)}catch{v=null}return!!v},c=function(){return"ActiveXObject"in t&&(l("AcroPDF.PDF")||l("PDF.PdfCtrl"))},d=function(){if(s.platform!==void 0&&s.platform==="MacIntel"&&s.maxTouchPoints!==void 0&&s.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(r))return!1;let x=typeof s.pdfViewerEnabled=="boolean";return x&&!s.pdfViewerEnabled?!1:x&&s.pdfViewerEnabled||a()||c()}(),p=function(g){let v="",x,C=[],S="";if((g.comment||g.viewrect||g.highlight)&&(g.page||(g.page=1,h("The comment, viewrect, and highlight parameters require a page parameter, but none was specified. Defaulting to page 1."))),g.page&&(C.push("page="+encodeURIComponent(g.page)),delete g.page),g.fdf&&(S=g.fdf,delete g.fdf),g){for(x in g)g.hasOwnProperty(x)&&C.push(encodeURIComponent(x)+"="+encodeURIComponent(g[x]));S&&C.push("fdf="+encodeURIComponent(S)),v=C.join("&"),v&&(v="#"+v)}return v},h=function(g){return o||console.log("[PDFObject]",g),!1},f=function(g){for(;g.firstChild;)g.removeChild(g.firstChild)},m=function(g){let v=document.body;return typeof g=="string"?v=document.querySelector(g):t.jQuery!==void 0&&g instanceof jQuery&&g.length?v=g.get(0):g.nodeType!==void 0&&g.nodeType===1&&(v=g),v},b=function(g,v,x,C){if(window.Blob&&window.URL&&window.URL.createObjectURL){var S=new XMLHttpRequest;S.open("GET",g,!0),S.responseType="blob",S.onload=function(){if(S.status===200){var $=S.response,E=document.createElement("a");E.innerText="Download PDF",E.href=URL.createObjectURL($),E.setAttribute("download",v),x.innerHTML=C.replace(/\[pdflink\]/g,E.outerHTML)}},S.send()}},w=function(g,v,x,C,S,$,E,M,P,T,O){f(v);let L=x;if(g==="pdfjs"){let A=O.indexOf("?")!==-1?"&":"?";L=O+A+"file="+encodeURIComponent(x)+C}else L+=C;let D=document.createElement("iframe");if(D.className="pdfobject",D.type="application/pdf",D.title=M,D.src=L,D.allow="fullscreen",D.frameborder="0",E&&(D.id=E),!P){let A="border: none;";v!==document.body?A+="width: "+S+"; height: "+$+";":A+="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",D.style.cssText=A}let R=["className","type","title","src","style","id","allow","frameborder"];return T&&T.key&&R.indexOf(T.key)===-1&&D.setAttribute(T.key,typeof T.value<"u"?T.value:""),v.classList.add("pdfobject-container"),v.appendChild(D),v.getElementsByTagName("iframe")[0]},y=function(g,v,x){let C=v||!1,S=x||{};o=typeof S.suppressConsole=="boolean"?S.suppressConsole:!1;let $=typeof S.id=="string"?S.id:"",E=S.page||!1,M=S.pdfOpenParams||{},P=typeof S.fallbackLink=="string"||typeof S.fallbackLink=="boolean"?S.fallbackLink:!0,T=S.width||"100%",O=S.height||"100%",L=S.title||"Embedded PDF",D=typeof S.forcePDFJS=="boolean"?S.forcePDFJS:!1,R=typeof S.omitInlineStyles=="boolean"?S.omitInlineStyles:!1,A=S.PDFJS_URL||!1,F=m(C),I="",V=S.customAttribute||{},q="<p>This browser does not support inline PDFs. Please download the PDF to view it: [pdflink]</p>";if(typeof g!="string")return h("URL is not valid");if(!F)return h("Target element cannot be determined");if(E&&(M.page=E),I=p(M),D&&A)return w("pdfjs",F,g,I,T,O,$,L,R,V,A);if(d)return w("iframe",F,g,I,T,O,$,L,R,V);if(A)return w("pdfjs",F,g,I,T,O,$,L,R,V,A);if(P)if(typeof P=="string")F.innerHTML=P.replace(/\[url\]/g,g);else if(g.indexOf("data:application/pdf;base64")!==-1)b(g,"file.pdf",F,q);else{let H="<a href='"+g+"'>Download PDF</a>";F.innerHTML=q.replace(/\[pdflink\]/g,H)}return h("This browser does not support embedded PDFs")};return{embed:function(g,v,x){return y(g,v,x)},pdfobjectversion:function(){return e}(),supportsPDFs:function(){return d}()}})})(pdfobject);var pdfobjectExports=pdfobject.exports;const PDFObject=getDefaultExportFromCjs(pdfobjectExports),_sfc_main$b={props:{src:{required:!0}},mounted(){PDFObject.embed(this.src,"#pdfViewer")}};var _sfc_render$b=function n(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full text-white text-center flex flex-col justify-center items-center",attrs:{id:"pdfViewer"}})},_sfc_staticRenderFns$b=[],__component__$b=normalizeComponent(_sfc_main$b,_sfc_render$b,_sfc_staticRenderFns$b,!1,null,null,null,null);const PdfViewer=__component__$b.exports;function data_delete(n,e){for(var t=e.split(".");t.length-1;){var s=t.shift(),r=t.length?new RegExp("^[0-9]+$").test(t[0]):!1;s in n||(n[s]=r?[]:{}),n=n[s]}delete n[t[0]]}class Values{constructor(e,t){this.values=clone$1(e),this.jsonFields=clone$1(t||[]).filter((s,r)=>t.indexOf(s)===r).sort()}get(e){let t=new this.constructor(clone$1(this.values),this.jsonFields).jsonDecode().values;return data_get(t,e)}set(e,t){return this.jsonDecode().setValue(e,t).jsonEncode(),this}mergeDottedKeys(e,t){let s=new this.constructor(clone$1(t.values),t.jsonFields).jsonDecode().values;return this.jsonDecode(),e.forEach(r=>{data_set(this.values,r,data_get(s,r))}),this.jsonEncode(),this}except(e){return this.jsonDecode().rejectValuesByKey(e).jsonEncode().all()}all(){return this.values}jsonDecode(){return this.jsonFields.forEach(e=>{this.jsonDecodeValue(e)}),this}jsonEncode(){return clone$1(this.jsonFields).reverse().forEach(e=>{this.jsonEncodeValue(e)}),this}dottedKeyToJsPath(e){return e.split(".").map(t=>new RegExp(/^\d+.*/).test(t)?'["'+t+'"]':t).join(".").replace(/\.\[/g,"[")}missingValue(e){var t=Array.isArray(e)?e:e.split("."),s=t.reduce((r,o)=>r&&r[o],clone$1(this.values));return s===void 0}jsonDecodeValue(e){if(this.missingValue(e))return;let t=clone$1(this.values),s=data_get(t,e),r=JSON.parse(s);data_set(t,e,r),this.values=t}jsonEncodeValue(e){if(this.missingValue(e))return;let t=clone$1(this.values),s=data_get(t,e),r=JSON.stringify(s);data_set(t,e,r),this.values=t}setValue(e,t){return data_set(this.values,e,t),this}rejectValuesByKey(e){return e.forEach(t=>{this.forgetValue(t)}),this}forgetValue(e){if(this.missingValue(e))return;let t=clone$1(this.values);data_delete(t,e),this.values=t}}const HasHiddenFields={computed:{hiddenFields(){return this.$store.state.publish[this.publishContainer].hiddenFields},jsonSubmittingFields(){return this.$store.state.publish[this.publishContainer].jsonSubmittingFields},revealerFields(){return this.$store.state.publish[this.publishContainer].revealerFields},visibleValues(){let n=_.chain(this.hiddenFields).pick(e=>e.omitValue).keys().value();return new Values(this.values,this.jsonSubmittingFields).except(n)}},methods:{resetValuesFromResponse(n){if(!n)return this.values;let e=["id"].concat(this.revealerFields),t=new Values(this.values,this.jsonSubmittingFields),s=new Values(n,this.jsonSubmittingFields);return s.mergeDottedKeys(e,t),s.all()}}},_sfc_main$a={mixins:[HasHiddenFields],components:{EditorActions,FocalPointEditor,PdfViewer,PublishFields},props:{id:{required:!0},readOnly:{type:Boolean},showToolbar:{type:Boolean,default:!0},allowDeleting:{type:Boolean,default(){return!0}}},data(){return{loading:!0,saving:!1,asset:null,publishContainer:"asset",values:{},meta:{},fields:null,fieldset:null,showFocalPointEditor:!1,error:null,errors:{},actions:[]}},computed:{isImage(){return this.asset?this.asset.isImage:!1},hasErrors:function(){return this.error||Object.keys(this.errors).length},canUseGoogleDocsViewer(){return Statamic.$config.get("googleDocsViewer")},isFocalPointEditorEnabled(){return Statamic.$config.get("focalPointEditorEnabled")},isToolbarVisible(){return!this.readOnly&&this.showToolbar}},mounted(){this.$modal.show("asset-editor"),this.load()},events:{"close-child-editor":function(){this.closeFocalPointEditor(),this.closeImageEditor(),this.closeRenamer()}},methods:{load(){this.loading=!0;const n=cp_url(`assets/${utf8btoa(this.id)}`);this.$axios.get(n).then(e=>{const t=e.data.data;this.asset=t,this.values=_.isArray(t.values)?{}:t.values,this.meta=t.meta,this.actionUrl=t.actionUrl,this.actions=t.actions,this.fieldset=t.blueprint,this.fields=_.chain(this.fieldset.tabs).map(s=>s.sections).flatten(!0).map(s=>s.fields).flatten(!0).value(),this.loading=!1})},openFocalPointEditor(){this.showFocalPointEditor=!0},closeFocalPointEditor(){this.showFocalPointEditor=!1},selectFocalPoint(n){n=n==="50-50-1"?null:n,this.$set(this.values,"focus",n),this.$dirty.add(this.publishContainer)},save(){this.saving=!0;const n=cp_url(`assets/${utf8btoa(this.id)}`);this.$axios.patch(n,this.visibleValues).then(e=>{this.$emit("saved",e.data.asset),this.$toast.success(__("Saved")),this.saving=!1,this.clearErrors()}).catch(e=>{if(this.saving=!1,e.response&&e.response.status===422){const{message:t,errors:s,error:r}=e.response.data;this.error=t,this.errors=s,this.$toast.error(r)}else e.response?this.$toast.error(e.response.data.message):this.$toast.error(__("Something went wrong"))})},clearErrors(){this.error=null,this.errors={}},close(){this.$modal.hide("asset-editor"),this.$emit("closed")},shouldClose(){return!(this.$dirty.has(this.publishContainer)&&!confirm(__("Are you sure? Unsaved changes will be lost.")))},open(){window.open(this.asset.url,"_blank")},download(){window.open(this.asset.downloadUrl)},canRunAction(n){return _.find(this.actions,e=>e.handle==n)},runAction(n){this.$events.$emit("editor-action-selected",{action:n,selection:this.id})},actionStarted(n){this.$events.$emit("editor-action-started")},actionCompleted(n,e){this.$events.$emit("editor-action-completed",n,e),this.$emit("action-completed",n,e),n&&this.close()}}};var _sfc_render$a=function n(){var e=this,t=e._self._c;return t("stack",{attrs:{name:"asset-editor","before-close":e.shouldClose,full:!0},on:{closed:e.close}},[t("div",{staticClass:"asset-editor flex flex-col relative bg-gray-100 h-full rounded",class:e.isImage?"is-image":"is-file"},[e.loading?t("div",{staticClass:"loading"},[t("loading-graphic")],1):e._e(),e.loading?e._e():[t("div",{staticClass:"flex justify-between w-full px-2 relative",attrs:{id:"asset-editor-header"}},[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:e.__("Open in a new window"),expression:"__('Open in a new window')",modifiers:{right:!0}}],staticClass:"flex items-center p-4 group",attrs:{"aria-label":e.__("Open in a new window")},on:{click:e.open}},[t("svg-icon",{staticClass:"text-gray-700 h-5 w-5",attrs:{name:"folder-image"}}),t("span",{staticClass:"rtl:mr-2 ltr:ml-2 text-sm text-gray-800 group-hover:text-blue"},[e._v(e._s(e.asset.path))]),t("svg-icon",{staticClass:"text-gray-700 h-5 w-5 group-hover:text-blue rtl:rotate-180",attrs:{name:"micro/chevron-right"}})],1),t("button",{staticClass:"btn-close absolute top-2 rtl:left-2.5 ltr:right-2.5",attrs:{"aria-label":e.__("Close Editor")},on:{click:e.close}},[e._v("×")])]),t("div",{staticClass:"flex flex-1 flex-col md:flex-row md:justify-between grow overflow-scroll"},[t("div",{staticClass:"editor-preview bg-gray-800 rtl:md:rounded-tl-md ltr:md:rounded-tr-md flex flex-col justify-between flex-1 min-h-[45vh] md:min-h-auto md:flex-auto md:grow w-full md:w-1/2 lg:w-2/3 shadow-[inset_0px_4px_3px_0px_black]"},[e.isToolbarVisible?t("div",{staticClass:"@container/toolbar flex items-center justify-center py-4 px-2 text-2xs text-white text-center space-x-1 sm:space-x-3",attrs:{id:"asset-editor-toolbar"}},[e.isImage&&e.isFocalPointEditorEnabled?t("button",{staticClass:"flex bg-gray-750 hover:bg-gray-900 hover:text-yellow-light rounded items-center justify-center px-3 py-1.5",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.openFocalPointEditor.apply(null,arguments)}}},[t("svg-icon",{staticClass:"h-4",attrs:{name:"focal-point"}}),t("span",{staticClass:"rtl:mr-2 ltr:ml-2 hidden @3xl/toolbar:inline-block"},[e._v(e._s(e.__("Focal Point")))])],1):e._e(),e.canRunAction("rename_asset")?t("button",{staticClass:"flex bg-gray-750 hover:bg-gray-900 hover:text-yellow-light rounded items-center px-3 py-1.5",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.runAction("rename_asset")}}},[t("svg-icon",{staticClass:"h-4",attrs:{name:"rename-file"}}),t("span",{staticClass:"rtl:mr-2 ltr:ml-2 hidden @3xl/toolbar:inline-block"},[e._v(e._s(e.__("Rename")))])],1):e._e(),e.canRunAction("move_asset")?t("button",{staticClass:"flex bg-gray-750 hover:bg-gray-900 hover:text-yellow-light rounded items-center px-3 py-1.5",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.runAction("move_asset")}}},[t("svg-icon",{staticClass:"h-4",attrs:{name:"move-file"}}),t("span",{staticClass:"rtl:mr-2 ltr:ml-2 hidden @3xl/toolbar:inline-block"},[e._v(e._s(e.__("Move")))])],1):e._e(),e.canRunAction("replace_asset")?t("button",{staticClass:"flex bg-gray-750 hover:bg-gray-900 hover:text-yellow-light rounded items-center px-3 py-1.5",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.runAction("replace_asset")}}},[t("svg-icon",{staticClass:"h-4",attrs:{name:"swap"}}),t("span",{staticClass:"rtl:mr-2 ltr:ml-2 hidden @3xl/toolbar:inline-block"},[e._v(e._s(e.__("Replace")))])],1):e._e(),e.canRunAction("reupload_asset")?t("button",{staticClass:"flex bg-gray-750 hover:bg-gray-900 hover:text-yellow-light rounded items-center px-3 py-1.5",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),e.runAction("reupload_asset")}}},[t("svg-icon",{staticClass:"h-4",attrs:{name:"upload-cloud"}}),t("span",{staticClass:"rtl:mr-2 ltr:ml-2 hidden @3xl/toolbar:inline-block"},[e._v(e._s(e.__("Reupload")))])],1):e._e(),e.asset.allowDownloading?t("button",{staticClass:"flex bg-gray-750 hover:bg-gray-900 hover:text-yellow-light rounded items-center px-3 py-1.5",attrs:{"aria-label":e.__("Download file")},on:{click:e.download}},[t("svg-icon",{staticClass:"h-4",attrs:{name:"download-desktop"}}),t("span",{staticClass:"rtl:mr-2 ltr:ml-2 hidden @3xl/toolbar:inline-block"},[e._v(e._s(e.__("Download")))])],1):e._e(),e.allowDeleting&&e.canRunAction("delete")?t("button",{staticClass:"flex bg-gray-750 hover:bg-gray-900 hover:text-red-400 rounded items-center text-center px-3 py-1.5",on:{click:function(s){return e.runAction("delete")}}},[t("svg-icon",{staticClass:"h-4",attrs:{name:"trash"}}),t("span",{staticClass:"rtl:mr-2 ltr:ml-2 hidden @3xl/toolbar:inline-block"},[e._v(e._s(e.__("Delete")))])],1):e._e()]):e._e(),e.asset.isImage||e.asset.isSvg||e.asset.isAudio||e.asset.isVideo?t("div",{staticClass:"editor-preview-image"},[t("div",{staticClass:"image-wrapper"},[e.asset.isImage?t("img",{staticClass:"asset-thumb",attrs:{src:e.asset.preview}}):e.asset.isSvg?t("div",{staticClass:"bg-checkerboard h-full w-full flex flex-col"},[t("div",{staticClass:"flex border-b-2 border-gray-900"},[t("div",{staticClass:"flex-1 order-r p-4 border-gray-900 flex items-center justify-center"},[t("img",{staticClass:"asset-thumb w-4 h-4",attrs:{src:e.asset.url}})]),t("div",{staticClass:"flex-1 rtl:border-r ltr:border-l rtl:border-l ltr:border-r p-4 border-gray-900 flex items-center justify-center"},[t("img",{staticClass:"asset-thumb w-12 h-12",attrs:{src:e.asset.url}})]),t("div",{staticClass:"flex-1 rtl:border-r ltr:border-l p-4 border-gray-900 flex items-center justify-center"},[t("img",{staticClass:"asset-thumb w-24 h-24",attrs:{src:e.asset.url}})])]),t("div",{staticClass:"min-h-0 h-full p-4 flex items-center justify-center"},[t("img",{staticClass:"asset-thumb w-2/3 max-w-full max-h-full",attrs:{src:e.asset.url}})])]):e.asset.isAudio?t("div",{staticClass:"w-full shadow-none"},[t("audio",{staticClass:"w-full",attrs:{src:e.asset.url,controls:"",preload:"auto"}})]):e.asset.isVideo?t("div",{staticClass:"w-full shadow-none"},[t("video",{staticClass:"w-full",attrs:{src:e.asset.url,controls:""}})]):e._e()])]):e.asset.isPdf?t("div",{staticClass:"h-full"},[t("pdf-viewer",{attrs:{src:e.asset.pdfUrl}})],1):e.asset.isPreviewable&&e.canUseGoogleDocsViewer?t("div",{staticClass:"h-full"},[t("iframe",{staticClass:"h-full w-full",attrs:{frameborder:"0",src:"https://docs.google.com/gview?url="+e.asset.permalink+"&embedded=true"}})]):e._e()]),e.fields?t("publish-container",{attrs:{name:e.publishContainer,blueprint:e.fieldset,values:e.values,meta:e.meta,errors:e.errors},on:{updated:function(s){e.values={...s,focus:e.values.focus}}},scopedSlots:e._u([{key:"default",fn:function({setFieldValue:s,setFieldMeta:r}){return t("div",{staticClass:"w-full sm:p-4 md:pt-px md:w-1/3 md:grow h-1/2 md:h-full overflow-scroll"},[e.saving?t("div",{staticClass:"loading"},[t("loading-graphic",{attrs:{text:"Saving"}})],1):e._e(),e.error?t("div",{staticClass:"bg-red-500 text-white p-4 shadow mb-4",domProps:{textContent:e._s(e.error)}}):e._e(),t("publish-sections",{attrs:{sections:e.fieldset.tabs[0].sections,"read-only":e.readOnly},on:{updated:s,"meta-updated":r}})],1)}}],null,!1,2184877992)}):e._e()],1),t("div",{staticClass:"bg-gray-200 w-full border-t flex items-center justify-end py-3 px-4 rounded-b"},[t("div",{staticClass:"flex-1 hidden sm:flex space-x-3 py-1 h-full text-xs text-gray-800",attrs:{id:"asset-meta-data"}},[e.isImage?t("div",{staticClass:"flex items-center bg-gray-400 rounded py-1 rtl:pr-2 ltr:pl-2 rtl:pl-3 ltr:pr-3"},[t("svg-icon",{staticClass:"h-3 rtl:ml-2 ltr:mr-2",attrs:{name:"image-picture"}}),t("div",{},[e._v(e._s(e.__("messages.width_x_height",{width:e.asset.width,height:e.asset.height})))])],1):e._e(),t("div",{staticClass:"flex items-center bg-gray-400 rounded py-1 rtl:pr-2 ltr:pl-2 rtl:pl-3 ltr:pr-3"},[t("svg-icon",{staticClass:"h-3 rtl:ml-2 ltr:mr-2",attrs:{name:"sd-card"}}),t("div",{},[e._v(e._s(e.asset.size))])],1),t("div",{staticClass:"flex items-center bg-gray-400 rounded py-1 rtl:pr-2 ltr:pl-2 rtl:pl-3 ltr:pr-3"},[t("svg-icon",{staticClass:"h-3 rtl:ml-2 ltr:mr-2",attrs:{name:"thumbprint"}}),t("div",{attrs:{title:e.asset.lastModified}},[e._v(e._s(e.asset.lastModifiedRelative))])],1)]),t("div",{staticClass:"flex items-center space-x-3"},[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.__("Cancel"))+" ")]),e.readOnly?e._e():t("button",{staticClass:"btn-primary",attrs:{type:"button"},on:{click:e.save}},[e._v(" "+e._s(e.__("Save"))+" ")])])])],e.actions.length?t("editor-actions",{attrs:{id:e.id,actions:e.actions,url:e.actionUrl},on:{started:e.actionStarted,completed:e.actionCompleted}}):e._e(),e.showFocalPointEditor&&e.isFocalPointEditorEnabled?t("focal-point-editor",{attrs:{data:e.values.focus,image:e.asset.preview},on:{selected:e.selectFocalPoint,closed:e.closeFocalPointEditor}}):e._e()],2)])},_sfc_staticRenderFns$a=[],__component__$a=normalizeComponent(_sfc_main$a,_sfc_render$a,_sfc_staticRenderFns$a,!1,null,null,null,null);const AssetEditor=__component__$a.exports,Asset={components:{AssetEditor},props:{asset:Object,readOnly:Boolean,showFilename:{type:Boolean,default:!0},showSetAlt:{type:Boolean,default:!0}},data(){return{editing:!1}},computed:{isImage(){return this.asset.isImage},canShowSvg(){return this.asset.extension==="svg"},container(){return this.asset.id.substr(0,this.asset.id.indexOf("::"))},canBeTransparent(){return["png","svg"].includes(this.asset.extension)},canDownload(){return Statamic.$permissions.has(`view ${this.container} assets`)},thumbnail(){return this.asset.thumbnail},label(){return this.asset.basename},needsAlt(){return(this.asset.isImage||this.asset.isSvg)&&!this.asset.values.alt}},methods:{edit(){this.readOnly||(this.editing=!0)},remove(){this.readOnly||this.$emit("removed",this.asset)},open(){if(!this.asset.url)return this.download();window.open(this.asset.url,"_blank")},download(){window.open(this.asset.downloadUrl)},closeEditor(){this.editing=!1},assetSaved(n){this.$emit("updated",n),this.closeEditor()},actionCompleted(n,e){if(n===!1)return;const t=e.ids[0]||null;t&&t!==this.asset.id&&this.$emit("id-changed",t),this.closeEditor()}}},_sfc_main$9={mixins:[Asset],methods:{editOrOpen(){return this.readOnly?this.open():this.edit()}}};var _sfc_render$9=function n(){var e=this,t=e._self._c;return t("tr",{staticClass:"cursor-grab bg-white hover:bg-gray-100"},[t("td",{staticClass:"flex items-center h-full"},[e.canShowSvg?t("div",{staticClass:"img svg-img h-7 w-7 bg-no-repeat bg-center bg-cover text-center flex items-center justify-center",style:"background-image:url("+e.thumbnail+")"}):t("button",{staticClass:"w-7 h-7 cursor-pointer whitespace-nowrap flex items-center justify-center",on:{click:e.editOrOpen}},[e.isImage?t("img",{staticClass:"asset-thumbnail max-h-full max-w-full rounded w-7 h-7 object-cover",attrs:{loading:"lazy",src:e.thumbnail,alt:e.asset.basename}}):t("file-icon",{staticClass:"w-7 h-7",attrs:{extension:e.asset.extension}})],1),e.showFilename?t("button",{staticClass:"flex items-center flex-1 rtl:mr-3 ltr:ml-3 text-xs rtl:text-right ltr:text-left truncate w-full",attrs:{"aria-label":e.__("Edit Asset")},on:{click:e.editOrOpen}},[e._v(" "+e._s(e.asset.basename)+" ")]):e._e(),t("div",{staticClass:"hidden @xs:inline asset-filesize text-xs text-gray-600 px-2",domProps:{textContent:e._s(e.asset.size)}})]),e.showSetAlt?t("td",{staticClass:"w-24"},[e.needsAlt?t("button",{staticClass:"asset-set-alt text-blue px-4 text-sm hover:text-black",on:{click:e.editOrOpen}},[e._v(" "+e._s(e.asset.values.alt?"✅":e.__("Set Alt"))+" ")]):e._e()]):e._e(),e.readOnly?e._e():t("td",{staticClass:"p-0 w-8 rtl:text-left ltr:text-right align-middle"},[t("button",{staticClass:"flex items-center p-1 w-6 h-8 text-lg antialiased text-gray-600 hover:text-gray-900",attrs:{"aria-label":e.__("Remove Asset")},on:{click:e.remove}},[e._v(" × ")]),e.editing?t("asset-editor",{attrs:{id:e.asset.id,"allow-deleting":!1},on:{closed:e.closeEditor,saved:e.assetSaved,"action-completed":e.actionCompleted}}):e._e()],1)])},_sfc_staticRenderFns$9=[],__component__$9=normalizeComponent(_sfc_main$9,_sfc_render$9,_sfc_staticRenderFns$9,!1,null,null,null,null);const AssetRow=__component__$9.exports,_sfc_main$8={mixins:[Asset],computed:{isInAssetBrowser(){let n=this;for(;;){let e=n.$parent;if(!e)return!1;if(e.constructor.name==="AssetBrowser")return!0;n=e}},isInBardField(){return this.$parent.isInBardField}}};var _sfc_render$8=function n(){var e=this,t=e._self._c;return t("div",{staticClass:"asset-tile",class:{"is-image":e.isImage&&!e.canShowSvg,"is-svg":e.canShowSvg,"is-file":!e.isImage&&!e.canShowSvg},attrs:{title:e.asset.filename}},[e.editing?t("asset-editor",{attrs:{id:e.asset.id,"allow-deleting":!1},on:{closed:e.closeEditor,saved:e.assetSaved,"action-completed":e.actionCompleted}}):e._e(),t("div",{staticClass:"asset-thumb-container"},[t("div",{staticClass:"asset-thumb",class:{"bg-checkerboard":e.canBeTransparent}},[e.isImage&&e.isInBardField&&!e.isInAssetBrowser?[t("img",{attrs:{src:e.asset.url}})]:[e.isImage?t("img",{attrs:{src:e.thumbnail,title:e.label}}):[e.canShowSvg?t("img",{staticClass:"p-4",attrs:{src:e.asset.url}}):t("file-icon",{staticClass:"p-4 h-full w-full",attrs:{extension:e.asset.extension}})]],e.readOnly?e._e():t("div",{staticClass:"asset-controls"},[t("div",{staticClass:"h-full w-full flex items-center justify-center space-x-1"},[t("button",{staticClass:"btn btn-icon",attrs:{alt:e.__("Edit")},on:{click:e.edit}},[t("svg-icon",{staticClass:"h-4 my-2",attrs:{name:"micro/sharp-pencil"}})],1),t("button",{staticClass:"btn btn-icon",attrs:{alt:e.__("Remove")},on:{click:e.remove}},[t("span",{staticClass:"text-lg antialiased w-4"},[e._v("×")])])])]),e.readOnly?t("div",{staticClass:"asset-controls"},[e.asset.url&&e.asset.isMedia&&this.canDownload?t("button",{staticClass:"btn btn-icon",attrs:{alt:e.__("Open in a new window")},on:{click:e.open}},[t("svg-icon",{staticClass:"h-4 my-2",attrs:{name:"light/external-link"}})],1):e._e(),e.asset.allowDownloading&&this.canDownload?t("button",{staticClass:"btn btn-icon",attrs:{alt:e.__("Download file")},on:{click:e.download}},[t("svg-icon",{staticClass:"h-4 my-2",attrs:{name:"download"}})],1):e._e()]):e._e()],2)]),e.showFilename?t("div",{staticClass:"asset-meta flex items-center"},[t("div",{staticClass:"asset-filename flex-1 px-2 py-1",class:{"text-center":!e.needsAlt},attrs:{title:e.label}},[e._v(" "+e._s(e.label)+" ")]),e.showSetAlt&&e.needsAlt?t("button",{staticClass:"text-blue rtl:border-r ltr:border-l px-2 py-1 hover:bg-gray-200",on:{click:e.edit}},[e._v(" "+e._s(e.asset.values.alt?"✅":e.__("Set Alt"))+" ")]):e._e()]):e._e()],1)},_sfc_staticRenderFns$8=[],__component__$8=normalizeComponent(_sfc_main$8,_sfc_render$8,_sfc_staticRenderFns$8,!1,null,null,null,null);const AssetTile=__component__$8.exports,_sfc_main$7={props:{container:String,folder:String,selected:Array,maxFiles:Number,queryScopes:Array,restrictContainerNavigation:{type:Boolean,default(){return!1}},restrictFolderNavigation:{type:Boolean,default(){return!1}}},data(){return{browserSelections:this.selected}},computed:{hasMaxFiles(){return this.maxFiles===1/0?!1:!!this.maxFiles}},watch:{browserSelections(n){this.maxFiles===1&&n.length===1&&this.select()}},methods:{select(){this.$emit("selected",this.browserSelections),this.close()},close(){this.$emit("closed")},selectionsUpdated(n){this.browserSelections=n}}};var _sfc_render$7=function n(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col justify-end h-full bg-white"},[t("div",{staticClass:"flex-1 overflow-scroll"},[t("asset-browser",{attrs:{"initial-container":e.container,"initial-per-page":e.$config.get("paginationSize"),"selected-path":e.folder,"selected-assets":e.browserSelections,"restrict-container-navigation":e.restrictContainerNavigation,"restrict-folder-navigation":e.restrictFolderNavigation,"max-files":e.maxFiles,"query-scopes":e.queryScopes,"autoselect-uploads":!0,"autofocus-search":!0},on:{"selections-updated":e.selectionsUpdated,"asset-doubleclicked":e.select}},[e.browserSelections.length?t("template",{slot:"contextual-actions"},[t("button",{staticClass:"btn action mb-6",on:{click:function(s){e.browserSelections=[]}}},[e._v(e._s(e.__("Uncheck All")))])]):e._e()],2)],1),t("div",{staticClass:"p-4 border-t flex items-center justify-between bg-gray-200"},[t("div",{staticClass:"text-sm text-gray-700",domProps:{textContent:e._s(e.hasMaxFiles?e.__n(":count/:max selected",e.browserSelections,{max:e.maxFiles}):e.__n(":count selected|:count selected",e.browserSelections))}}),t("div",[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.__("Cancel"))+" ")]),t("button",{staticClass:"btn-primary rtl:mr-2 ltr:ml-2",attrs:{type:"button"},on:{click:e.select}},[e._v(" "+e._s(e.__("Select"))+" ")])])])])},_sfc_staticRenderFns$7=[],__component__$7=normalizeComponent(_sfc_main$7,_sfc_render$7,_sfc_staticRenderFns$7,!1,null,null,null,null);const Selector=__component__$7.exports;var lib={},Upload$2={},browser=typeof self=="object"?self.FormData:window.FormData,__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Upload$2,"__esModule",{value:!0});Upload$2.Upload=void 0;const form_data_1=__importDefault(browser);let Upload$1=class{constructor(e){if(this.events={state:new Set,error:new Set,progress:new Set},this.withCredentials=!1,this._uploadedBytes=0,this._totalBytes=0,this._state="new",!e)throw new Error("Options are required.");if(!e.url||typeof e.url!="string")throw new Error("Destination URL is missing or invalid.");this.form=e.form,this.url=e.url,this.headers=e.headers,this.withCredentials=e.withCredentials}upload(){return new Promise((e,t)=>{if(typeof window<"u"&&typeof XMLHttpRequest<"u"){if(this.xhr=new XMLHttpRequest,this.withCredentials&&(this.xhr.withCredentials=!0),this.xhr.open("POST",this.url,!0),typeof this.headers=="object")for(const s of Object.keys(this.headers))this.xhr.setRequestHeader(s,this.headers[s]);if(this.xhr.addEventListener("loadstart",()=>{this.setState("started")}),this.xhr.upload&&this.xhr.upload.addEventListener("progress",s=>{this._totalBytes!==s.total&&this.setTotalBytes(s.total),this.setUploadedBytes(s.loaded)}),this.xhr.addEventListener("load",()=>{if(this.xhr){this.setUploadedBytes(this.totalBytes),this.setState("successful");const s={},r=this.xhr.getAllResponseHeaders().replace(/\r/g,"").split(`
`),o={};for(const a of r){const l=a.split(":");l.length==2&&(o[l[0].trim()]=l[1].trim())}switch(s.headers=o,s.status=this.xhr.status,s.xhr=this.xhr,this.xhr.responseType){case"json":s.data=JSON.stringify(this.xhr.response);break;default:s.data=this.xhr.response}e(s)}}),this.xhr.addEventListener("error",()=>{this.setState("failed"),this.emit("error"),t()}),this.xhr.addEventListener("abort",()=>{this.setState("aborted")}),this.form instanceof FormData)this.xhr.send(this.form);else{const s=this.form,r=new FormData;for(const o of Object.keys(this.form))r.set(o,s[o]);this.xhr.send(r)}}else{const s=(l,c)=>{if(l)this.setState("failed"),this.emit("error"),t();else{this.setUploadedBytes(this.totalBytes),this.setState("successful");let u="";c.on("readable",()=>{const d=c.read();d&&(u+=d)}),c.on("end",()=>{const d={};d.data=u,d.headers=c.headers,e(d)})}},r=new URL(this.url),o={hostname:r.hostname,port:r.port,path:r.pathname,method:"POST",headers:this.headers};let a;if(this.form instanceof form_data_1.default)a=this.form;else{const l=this.form;a=new form_data_1.default;for(const c of Object.keys(this.form))a.append(c,l[c])}a.getLength((l,c)=>{this.setTotalBytes(c)}),a.on("data",l=>{this.state==="new"&&this.setState("started"),l.hasOwnProperty("length")&&this.increaseUploadedBytes(l.length)}),a.submit(o,s)}})}abort(){var e;(e=this.xhr)===null||e===void 0||e.abort()}get uploadedBytes(){return this._uploadedBytes}setUploadedBytes(e){this._uploadedBytes=e,this.emit("progress",this.progress)}increaseUploadedBytes(e){this._uploadedBytes+=e,this.emit("progress",this.progress)}get totalBytes(){return this._totalBytes}setTotalBytes(e){this._totalBytes=e,this.emit("progress",this.progress)}get progress(){return this._totalBytes===0?0:this._uploadedBytes/this._totalBytes}get state(){return this._state}setState(e){const t=this._state;this._state=e,t!==this._state&&this.emit("state",this._state)}on(e,t){this.events[e].add(t)}off(e,t){this.events[e].delete(t)}emit(e,...t){for(const s of this.events[e])s.apply(this,t)}};Upload$2.Upload=Upload$1;var UploadFunction={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,s){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{u(s.next(d))}catch(p){a(p)}}function c(d){try{u(s.throw(d))}catch(p){a(p)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((s=s.apply(n,e||[])).next())})};Object.defineProperty(UploadFunction,"__esModule",{value:!0});UploadFunction.upload=void 0;const Upload_1=Upload$2;function upload(n,e,t,s=!1){return __awaiter(this,void 0,void 0,function*(){const r=new Upload_1.Upload(Object.assign({url:n,form:e,withCredentials:s},t));return t!=null&&t.onProgress&&r.on("progress",t.onProgress),yield r.upload()})}UploadFunction.upload=upload;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(s,r,o,a){a===void 0&&(a=o),Object.defineProperty(s,a,{enumerable:!0,get:function(){return r[o]}})}:function(s,r,o,a){a===void 0&&(a=o),s[a]=r[o]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(s,r){for(var o in s)o!=="default"&&!r.hasOwnProperty(o)&&e(r,s,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(Upload$2,n),t(UploadFunction,n)})(lib);const _sfc_main$6={render(n){const e=n("input",{class:{hidden:!0},attrs:{type:"file",multiple:!0},ref:"nativeFileField"});return n("div",{on:{dragenter:this.dragenter,dragover:this.dragover,dragleave:this.dragleave,drop:this.drop}},[n("div",{class:{"pointer-events-none":this.dragging}},[e,...this.$scopedSlots.default({dragging:this.enabled?this.dragging:!1})])])},props:{enabled:{type:Boolean,default:()=>!0},container:String,path:String,url:{type:String,default:()=>cp_url("assets")}},data(){return{dragging:!1,uploads:[]}},computed:{extraData(){return{container:this.container,folder:this.path,_token:Statamic.$config.get("csrfToken")}}},mounted(){this.$refs.nativeFileField.addEventListener("change",this.addNativeFileFieldSelections)},beforeDestroy(){this.$refs.nativeFileField.removeEventListener("change",this.addNativeFileFieldSelections)},watch:{uploads(n){this.$emit("updated",n),this.processUploadQueue()}},methods:{browse(){this.$refs.nativeFileField.click()},addNativeFileFieldSelections(n){for(let e=0;e<n.target.files.length;e++)this.addFile(n.target.files[e])},dragenter(n){n.stopPropagation(),n.preventDefault(),this.dragging=!0},dragover(n){n.stopPropagation(),n.preventDefault()},dragleave(n){n.target===n.currentTarget&&(this.dragging=!1)},drop(n){n.stopPropagation(),n.preventDefault(),this.dragging=!1;for(let e=0;e<n.dataTransfer.files.length;e++)this.addFile(n.dataTransfer.files[e])},addFile(n){if(!this.enabled)return;const e=uniqid(),t=this.makeUpload(e,n);this.uploads.push({id:e,basename:n.name,extension:n.name.split(".").pop(),percent:0,errorMessage:null,instance:t})},findUpload(n){return this.uploads.find(e=>e.id===n)},findUploadIndex(n){return this.uploads.findIndex(e=>e.id===n)},makeUpload(n,e){const t=new lib.Upload({url:this.url,form:this.makeFormData(e),headers:{Accept:"application/json"}});return t.on("progress",s=>{this.findUpload(n).percent=s*100}),t},makeFormData(n){const e=new FormData;e.append("file",n);for(let t in this.extraData)e.append(t,this.extraData[t]);return e},processUploadQueue(){if(this.uploads.length===0)return;const n=this.uploads[0],e=n.id;n.instance.upload().then(t=>{let s=null;try{s=JSON.parse(t.data)}catch{}t.status===200?this.handleUploadSuccess(e,s):this.handleUploadError(e,status,s)})},handleUploadSuccess(n,e){this.$emit("upload-complete",e.data,this.uploads),this.uploads.splice(this.findUploadIndex(n),1)},handleUploadError(n,e,t){const s=this.findUpload(n);let r=t==null?void 0:t.message;r||(e===413?r=__("Upload failed. The file is larger than is allowed by your server."):r=__("Upload failed. The file might be larger than is allowed by your server.")),s.errorMessage=r,this.$emit("error",s,this.uploads)}}},_sfc_render$6=null,_sfc_staticRenderFns$6=null;var __component__$6=normalizeComponent(_sfc_main$6,_sfc_render$6,_sfc_staticRenderFns$6,!1,null,null,null,null);const Uploader=__component__$6.exports,_sfc_main$5={props:["extension","basename","percent","error"],computed:{status(){return this.error?"error":this.percent===100?"pending":"uploading"}},methods:{clear(){this.$emit("clear")}}};var _sfc_render$5=function n(){var e=this,t=e._self._c;return t("div",{staticClass:"flex items-center my-4",class:{"text-red-500":e.status=="error"}},[t("div",{staticClass:"mx-2 flex items-center"},[e.status==="error"?t("svg-icon",{staticClass:"text-red-500 h-4 w-4",attrs:{name:"micro/warning"}}):t("loading-graphic",{attrs:{inline:!0,text:""}})],1),t("div",{staticClass:"filename"},[e._v(e._s(e.basename))]),e.status!=="error"?t("div",{staticClass:"bg-white flex-1 h-4 mx-2 rounded"},[t("div",{staticClass:"bg-blue h-full rounded",style:{width:e.percent+"%"}})]):e._e(),e.status==="error"?t("div",{staticClass:"px-2"},[e._v(" "+e._s(e.error)+" "),t("button",{staticClass:"flex items-center text-gray-700 hover:text-gray-800",on:{click:function(s){return s.preventDefault(),e.clear.apply(null,arguments)}}},[t("svg-icon",{staticClass:"h-4 w-4",attrs:{name:"micro/circle-with-cross"}})],1)]):e._e()])},_sfc_staticRenderFns$5=[],__component__$5=normalizeComponent(_sfc_main$5,_sfc_render$5,_sfc_staticRenderFns$5,!1,null,null,null,null);const Upload=__component__$5.exports,_sfc_main$4={props:["uploads"],components:{Upload},methods:{clearUpload(n){this.uploads.splice(n,1)}}};var _sfc_render$4=function n(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-gray-400 text-xs p-2"},e._l(e.uploads,function(s,r){return t("upload",{key:s.id,attrs:{basename:s.basename,extension:s.extension,percent:s.percent,error:s.errorMessage},on:{clear:function(o){return e.clearUpload(r)}}})}),1)},_sfc_staticRenderFns$4=[],__component__$4=normalizeComponent(_sfc_main$4,_sfc_render$4,_sfc_staticRenderFns$4,!1,null,null,null,null);const Uploads=__component__$4.exports;class AbstractEvent{constructor(e){this._canceled=!1,this.data=e}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this._canceled=!0}canceled(){return this._canceled}clone(e){return new this.constructor({...this.data,...e})}}AbstractEvent.type="event";AbstractEvent.cancelable=!1;class AbstractPlugin{constructor(e){this.draggable=e}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}const defaultDelay={mouse:0,drag:0,touch:100};class Sensor{constructor(e=[],t={}){this.containers=[...e],this.options={...t},this.dragging=!1,this.currentContainer=null,this.originalSource=null,this.startEvent=null,this.delay=calcDelay(t.delay)}attach(){return this}detach(){return this}addContainer(...e){this.containers=[...this.containers,...e]}removeContainer(...e){this.containers=this.containers.filter(t=>!e.includes(t))}trigger(e,t){const s=document.createEvent("Event");return s.detail=t,s.initEvent(t.type,!0,!0),e.dispatchEvent(s),this.lastEvent=t,t}}function calcDelay(n){const e={};if(n===void 0)return{...defaultDelay};if(typeof n=="number"){for(const t in defaultDelay)Object.prototype.hasOwnProperty.call(defaultDelay,t)&&(e[t]=n);return e}for(const t in defaultDelay)Object.prototype.hasOwnProperty.call(defaultDelay,t)&&(n[t]===void 0?e[t]=defaultDelay[t]:e[t]=n[t]);return e}function closest(n,e){if(n==null)return null;function t(r){return r==null||e==null?!1:isSelector(e)?Element.prototype.matches.call(r,e):isNodeList(e)?[...e].includes(r):isElement(e)?e===r:isFunction(e)?e(r):!1}let s=n;do{if(s=s.correspondingUseElement||s.correspondingElement||s,t(s))return s;s=(s==null?void 0:s.parentNode)||null}while(s!=null&&s!==document.body&&s!==document);return null}function isSelector(n){return typeof n=="string"}function isNodeList(n){return n instanceof NodeList||n instanceof Array}function isElement(n){return n instanceof Node}function isFunction(n){return typeof n=="function"}function distance(n,e,t,s){return Math.sqrt((t-n)**2+(s-e)**2)}class SensorEvent extends AbstractEvent{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get originalSource(){return this.data.originalSource}get pressure(){return this.data.pressure}}class DragStartSensorEvent extends SensorEvent{}DragStartSensorEvent.type="drag:start";class DragMoveSensorEvent extends SensorEvent{}DragMoveSensorEvent.type="drag:move";class DragStopSensorEvent extends SensorEvent{}DragStopSensorEvent.type="drag:stop";class DragPressureSensorEvent extends SensorEvent{}DragPressureSensorEvent.type="drag:pressure";const onContextMenuWhileDragging=Symbol("onContextMenuWhileDragging"),onMouseDown=Symbol("onMouseDown"),onMouseMove=Symbol("onMouseMove"),onMouseUp=Symbol("onMouseUp"),startDrag$1=Symbol("startDrag"),onDistanceChange$1=Symbol("onDistanceChange");class MouseSensor extends Sensor{constructor(e=[],t={}){super(e,t),this.mouseDownTimeout=null,this.pageX=null,this.pageY=null,this[onContextMenuWhileDragging]=this[onContextMenuWhileDragging].bind(this),this[onMouseDown]=this[onMouseDown].bind(this),this[onMouseMove]=this[onMouseMove].bind(this),this[onMouseUp]=this[onMouseUp].bind(this),this[startDrag$1]=this[startDrag$1].bind(this),this[onDistanceChange$1]=this[onDistanceChange$1].bind(this)}attach(){document.addEventListener("mousedown",this[onMouseDown],!0)}detach(){document.removeEventListener("mousedown",this[onMouseDown],!0)}[onMouseDown](e){if(e.button!==0||e.ctrlKey||e.metaKey)return;const t=closest(e.target,this.containers);if(!t||this.options.handle&&e.target&&!closest(e.target,this.options.handle))return;const s=closest(e.target,this.options.draggable);if(!s)return;const{delay:r}=this,{pageX:o,pageY:a}=e;Object.assign(this,{pageX:o,pageY:a}),this.onMouseDownAt=Date.now(),this.startEvent=e,this.currentContainer=t,this.originalSource=s,document.addEventListener("mouseup",this[onMouseUp]),document.addEventListener("dragstart",preventNativeDragStart),document.addEventListener("mousemove",this[onDistanceChange$1]),this.mouseDownTimeout=window.setTimeout(()=>{this[onDistanceChange$1]({pageX:this.pageX,pageY:this.pageY})},r.mouse)}[startDrag$1](){const e=this.startEvent,t=this.currentContainer,s=this.originalSource,r=new DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:e.target,container:t,originalSource:s,originalEvent:e});this.trigger(this.currentContainer,r),this.dragging=!r.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[onContextMenuWhileDragging],!0),document.addEventListener("mousemove",this[onMouseMove]))}[onDistanceChange$1](e){const{pageX:t,pageY:s}=e,{distance:r}=this.options,{startEvent:o,delay:a}=this;if(Object.assign(this,{pageX:t,pageY:s}),!this.currentContainer)return;const l=Date.now()-this.onMouseDownAt,c=distance(o.pageX,o.pageY,t,s)||0;clearTimeout(this.mouseDownTimeout),l<a.mouse?document.removeEventListener("mousemove",this[onDistanceChange$1]):c>=r&&(document.removeEventListener("mousemove",this[onDistanceChange$1]),this[startDrag$1]())}[onMouseMove](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),s=new DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s)}[onMouseUp](e){if(clearTimeout(this.mouseDownTimeout),e.button!==0||(document.removeEventListener("mouseup",this[onMouseUp]),document.removeEventListener("dragstart",preventNativeDragStart),document.removeEventListener("mousemove",this[onDistanceChange$1]),!this.dragging))return;const t=document.elementFromPoint(e.clientX,e.clientY),s=new DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s),document.removeEventListener("contextmenu",this[onContextMenuWhileDragging],!0),document.removeEventListener("mousemove",this[onMouseMove]),this.currentContainer=null,this.dragging=!1,this.startEvent=null}[onContextMenuWhileDragging](e){e.preventDefault()}}function preventNativeDragStart(n){n.preventDefault()}function touchCoords(n){const{touches:e,changedTouches:t}=n;return e&&e[0]||t&&t[0]}const onTouchStart=Symbol("onTouchStart"),onTouchEnd=Symbol("onTouchEnd"),onTouchMove=Symbol("onTouchMove"),startDrag=Symbol("startDrag"),onDistanceChange=Symbol("onDistanceChange");let preventScrolling=!1;window.addEventListener("touchmove",n=>{preventScrolling&&n.preventDefault()},{passive:!1});class TouchSensor extends Sensor{constructor(e=[],t={}){super(e,t),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this.pageX=null,this.pageY=null,this[onTouchStart]=this[onTouchStart].bind(this),this[onTouchEnd]=this[onTouchEnd].bind(this),this[onTouchMove]=this[onTouchMove].bind(this),this[startDrag]=this[startDrag].bind(this),this[onDistanceChange]=this[onDistanceChange].bind(this)}attach(){document.addEventListener("touchstart",this[onTouchStart])}detach(){document.removeEventListener("touchstart",this[onTouchStart])}[onTouchStart](e){const t=closest(e.target,this.containers);if(!t||this.options.handle&&e.target&&!closest(e.target,this.options.handle))return;const s=closest(e.target,this.options.draggable);if(!s)return;const{distance:r=0}=this.options,{delay:o}=this,{pageX:a,pageY:l}=touchCoords(e);Object.assign(this,{pageX:a,pageY:l}),this.onTouchStartAt=Date.now(),this.startEvent=e,this.currentContainer=t,this.originalSource=s,document.addEventListener("touchend",this[onTouchEnd]),document.addEventListener("touchcancel",this[onTouchEnd]),document.addEventListener("touchmove",this[onDistanceChange]),t.addEventListener("contextmenu",onContextMenu),r&&(preventScrolling=!0),this.tapTimeout=window.setTimeout(()=>{this[onDistanceChange]({touches:[{pageX:this.pageX,pageY:this.pageY}]})},o.touch)}[startDrag](){const e=this.startEvent,t=this.currentContainer,s=touchCoords(e),r=this.originalSource,o=new DragStartSensorEvent({clientX:s.pageX,clientY:s.pageY,target:e.target,container:t,originalSource:r,originalEvent:e});this.trigger(this.currentContainer,o),this.dragging=!o.canceled(),this.dragging&&document.addEventListener("touchmove",this[onTouchMove]),preventScrolling=this.dragging}[onDistanceChange](e){const{distance:t}=this.options,{startEvent:s,delay:r}=this,o=touchCoords(s),a=touchCoords(e),l=Date.now()-this.onTouchStartAt,c=distance(o.pageX,o.pageY,a.pageX,a.pageY);Object.assign(this,a),clearTimeout(this.tapTimeout),l<r.touch?document.removeEventListener("touchmove",this[onDistanceChange]):c>=t&&(document.removeEventListener("touchmove",this[onDistanceChange]),this[startDrag]())}[onTouchMove](e){if(!this.dragging)return;const{pageX:t,pageY:s}=touchCoords(e),r=document.elementFromPoint(t-window.scrollX,s-window.scrollY),o=new DragMoveSensorEvent({clientX:t,clientY:s,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,o)}[onTouchEnd](e){if(clearTimeout(this.tapTimeout),preventScrolling=!1,document.removeEventListener("touchend",this[onTouchEnd]),document.removeEventListener("touchcancel",this[onTouchEnd]),document.removeEventListener("touchmove",this[onDistanceChange]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",onContextMenu),!this.dragging)return;document.removeEventListener("touchmove",this[onTouchMove]);const{pageX:t,pageY:s}=touchCoords(e),r=document.elementFromPoint(t-window.scrollX,s-window.scrollY);e.preventDefault();const o=new DragStopSensorEvent({clientX:t,clientY:s,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,o),this.currentContainer=null,this.dragging=!1,this.startEvent=null}}function onContextMenu(n){n.preventDefault(),n.stopPropagation()}class CollidableEvent extends AbstractEvent{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}CollidableEvent.type="collidable";class CollidableInEvent extends CollidableEvent{get collidingElement(){return this.data.collidingElement}}CollidableInEvent.type="collidable:in";class CollidableOutEvent extends CollidableEvent{get collidingElement(){return this.data.collidingElement}}CollidableOutEvent.type="collidable:out";function createAddInitializerMethod(n,e){return function(t){assertNotFinished(e,"addInitializer"),assertCallable(t,"An initializer"),n.push(t)}}function assertInstanceIfPrivate(n,e){if(!n(e))throw new TypeError("Attempted to access private element on non-instance")}function memberDec(n,e,t,s,r,o,a,l,c,u,d){var p;switch(o){case 1:p="accessor";break;case 2:p="method";break;case 3:p="getter";break;case 4:p="setter";break;default:p="field"}var h,f,m={kind:p,name:l?"#"+t:t,static:a,private:l,metadata:d},b={v:!1};if(o!==0&&(m.addInitializer=createAddInitializerMethod(r,b)),l||o!==0&&o!==2)if(o===2)h=function(g){return assertInstanceIfPrivate(u,g),s.value};else{var w=o===0||o===1;(w||o===3)&&(h=l?function(g){return assertInstanceIfPrivate(u,g),s.get.call(g)}:function(g){return s.get.call(g)}),(w||o===4)&&(f=l?function(g,v){assertInstanceIfPrivate(u,g),s.set.call(g,v)}:function(g,v){s.set.call(g,v)})}else h=function(g){return g[t]},o===0&&(f=function(g,v){g[t]=v});var y=l?u.bind():function(g){return t in g};m.access=h&&f?{get:h,set:f,has:y}:h?{get:h,has:y}:{set:f,has:y};try{return n.call(e,c,m)}finally{b.v=!0}}function assertNotFinished(n,e){if(n.v)throw new Error("attempted to call "+e+" after decoration was finished")}function assertCallable(n,e){if(typeof n!="function")throw new TypeError(e+" must be a function")}function assertValidReturnValue(n,e){var t=typeof e;if(n===1){if(t!=="object"||e===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");e.get!==void 0&&assertCallable(e.get,"accessor.get"),e.set!==void 0&&assertCallable(e.set,"accessor.set"),e.init!==void 0&&assertCallable(e.init,"accessor.init")}else if(t!=="function"){var s;throw s=n===0?"field":n===5?"class":"method",new TypeError(s+" decorators must return a function or void 0")}}function curryThis1(n){return function(){return n(this)}}function curryThis2(n){return function(e){n(this,e)}}function applyMemberDec(n,e,t,s,r,o,a,l,c,u,d){var p,h,f,m,b,w,y=t[0];s||Array.isArray(y)||(y=[y]),l?p=o===0||o===1?{get:curryThis1(t[3]),set:curryThis2(t[4])}:o===3?{get:t[3]}:o===4?{set:t[3]}:{value:t[3]}:o!==0&&(p=Object.getOwnPropertyDescriptor(e,r)),o===1?f={get:p.get,set:p.set}:o===2?f=p.value:o===3?f=p.get:o===4&&(f=p.set);for(var g=s?2:1,v=y.length-1;v>=0;v-=g){var x;(m=memberDec(y[v],s?y[v-1]:void 0,r,p,c,o,a,l,f,u,d))!==void 0&&(assertValidReturnValue(o,m),o===0?x=m:o===1?(x=m.init,b=m.get||f.get,w=m.set||f.set,f={get:b,set:w}):f=m,x!==void 0&&(h===void 0?h=x:typeof h=="function"?h=[h,x]:h.push(x)))}if(o===0||o===1){if(h===void 0)h=function($,E){return E};else if(typeof h!="function"){var C=h;h=function($,E){for(var M=E,P=C.length-1;P>=0;P--)M=C[P].call($,M);return M}}else{var S=h;h=function($,E){return S.call($,E)}}n.push(h)}o!==0&&(o===1?(p.get=f.get,p.set=f.set):o===2?p.value=f:o===3?p.get=f:o===4&&(p.set=f),l?o===1?(n.push(function($,E){return f.get.call($,E)}),n.push(function($,E){return f.set.call($,E)})):o===2?n.push(f):n.push(function($,E){return f.call($,E)}):Object.defineProperty(e,r,p))}function applyMemberDecs(n,e,t,s){for(var r,o,a,l=[],c=new Map,u=new Map,d=0;d<e.length;d++){var p=e[d];if(Array.isArray(p)){var h,f,m=p[1],b=p[2],w=p.length>3,y=16&m,g=!!(8&m),v=t;if(m&=7,g?(h=n,m!==0&&(f=o=o||[]),w&&!a&&(a=function(S){return _checkInRHS(S)===n}),v=a):(h=n.prototype,m!==0&&(f=r=r||[])),m!==0&&!w){var x=g?u:c,C=x.get(b)||0;if(C===!0||C===3&&m!==4||C===4&&m!==3)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);x.set(b,!(!C&&m>2)||m)}applyMemberDec(l,h,p,y,b,m,g,w,f,v,s)}}return pushInitializers(l,r),pushInitializers(l,o),l}function pushInitializers(n,e){e&&n.push(function(t){for(var s=0;s<e.length;s++)e[s].call(t);return t})}function applyClassDecs(n,e,t,s){if(e.length){for(var r=[],o=n,a=n.name,l=t?2:1,c=e.length-1;c>=0;c-=l){var u={v:!1};try{var d=e[c].call(t?e[c-1]:void 0,o,{kind:"class",name:a,addInitializer:createAddInitializerMethod(r,u),metadata:s})}finally{u.v=!0}d!==void 0&&(assertValidReturnValue(5,d),o=d)}return[defineMetadata(o,s),function(){for(var p=0;p<r.length;p++)r[p].call(o)}]}}function defineMetadata(n,e){return Object.defineProperty(n,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}function _applyDecs2305(n,e,t,s,r,o){if(arguments.length>=6)var a=o[Symbol.metadata||Symbol.for("Symbol.metadata")];var l=Object.create(a===void 0?null:a),c=applyMemberDecs(n,e,r,l);return t.length||defineMetadata(n,l),{e:c,get c(){return applyClassDecs(n,t,s,l)}}}function _checkInRHS(n){if(Object(n)!==n)throw TypeError("right-hand side of 'in' should be an object, got "+(n!==null?typeof n:"null"));return n}function AutoBind(n,{name:e,addInitializer:t}){t(function(){this[e]=n.bind(this)})}function requestNextAnimationFrame(n){return requestAnimationFrame(()=>{requestAnimationFrame(n)})}class DragEvent extends AbstractEvent{constructor(e){super(e),this.data=e}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}DragEvent.type="drag";class DragStartEvent extends DragEvent{}DragStartEvent.type="drag:start";DragStartEvent.cancelable=!0;class DragMoveEvent extends DragEvent{}DragMoveEvent.type="drag:move";class DragOverEvent extends DragEvent{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}DragOverEvent.type="drag:over";DragOverEvent.cancelable=!0;function isDragOverEvent(n){return n.type===DragOverEvent.type}class DragOutEvent extends DragEvent{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}DragOutEvent.type="drag:out";class DragOverContainerEvent extends DragEvent{get overContainer(){return this.data.overContainer}}DragOverContainerEvent.type="drag:over:container";class DragOutContainerEvent extends DragEvent{get overContainer(){return this.data.overContainer}}DragOutContainerEvent.type="drag:out:container";class DragPressureEvent extends DragEvent{get pressure(){return this.data.pressure}}DragPressureEvent.type="drag:pressure";class DragStopEvent extends DragEvent{}DragStopEvent.type="drag:stop";DragStopEvent.cancelable=!0;class DragStoppedEvent extends DragEvent{}DragStoppedEvent.type="drag:stopped";var _initProto$1,_class$1;class ResizeMirror extends AbstractPlugin{constructor(e){_initProto$1(super(e)),this.lastWidth=0,this.lastHeight=0,this.mirror=null}attach(){this.draggable.on("mirror:created",this.onMirrorCreated).on("drag:over",this.onDragOver).on("drag:over:container",this.onDragOver)}detach(){this.draggable.off("mirror:created",this.onMirrorCreated).off("mirror:destroy",this.onMirrorDestroy).off("drag:over",this.onDragOver).off("drag:over:container",this.onDragOver)}getOptions(){return this.draggable.options.resizeMirror||{}}onMirrorCreated({mirror:e}){this.mirror=e}onMirrorDestroy(){this.mirror=null}onDragOver(e){this.resize(e)}resize(e){requestAnimationFrame(()=>{let t=null;const{overContainer:s}=e;if(this.mirror==null||this.mirror.parentNode==null)return;this.mirror.parentNode!==s&&s.appendChild(this.mirror),isDragOverEvent(e)&&(t=e.over);const r=t||this.draggable.getDraggableElementsForContainer(s)[0];r&&requestNextAnimationFrame(()=>{const o=r.getBoundingClientRect();this.mirror==null||this.lastHeight===o.height&&this.lastWidth===o.width||(this.mirror.style.width=`${o.width}px`,this.mirror.style.height=`${o.height}px`,this.lastWidth=o.width,this.lastHeight=o.height)})})}}_class$1=ResizeMirror;[_initProto$1]=_applyDecs2305(_class$1,[[AutoBind,2,"onMirrorCreated"],[AutoBind,2,"onMirrorDestroy"],[AutoBind,2,"onDragOver"]],[],0,void 0,AbstractPlugin).e;class SnapEvent extends AbstractEvent{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}SnapEvent.type="snap";class SnapInEvent extends SnapEvent{}SnapInEvent.type="snap:in";SnapInEvent.cancelable=!0;class SnapOutEvent extends SnapEvent{}SnapOutEvent.type="snap:out";SnapOutEvent.cancelable=!0;var _initProto,_class;const defaultOptions$5={duration:150,easingFunction:"ease-in-out",horizontal:!1};class SwapAnimation extends AbstractPlugin{constructor(e){_initProto(super(e)),this.options={...defaultOptions$5,...this.getOptions()},this.lastAnimationFrame=null}attach(){this.draggable.on("sortable:sorted",this.onSortableSorted)}detach(){this.draggable.off("sortable:sorted",this.onSortableSorted)}getOptions(){return this.draggable.options.swapAnimation||{}}onSortableSorted({oldIndex:e,newIndex:t,dragEvent:s}){const{source:r,over:o}=s;this.lastAnimationFrame&&cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{e>=t?animate(r,o,this.options):animate(o,r,this.options)})}}_class=SwapAnimation;[_initProto]=_applyDecs2305(_class,[[AutoBind,2,"onSortableSorted"]],[],0,void 0,AbstractPlugin).e;function animate(n,e,{duration:t,easingFunction:s,horizontal:r}){for(const o of[n,e])o.style.pointerEvents="none";if(r){const o=n.offsetWidth;n.style.transform=`translate3d(${o}px, 0, 0)`,e.style.transform=`translate3d(-${o}px, 0, 0)`}else{const o=n.offsetHeight;n.style.transform=`translate3d(0, ${o}px, 0)`,e.style.transform=`translate3d(0, -${o}px, 0)`}requestAnimationFrame(()=>{for(const o of[n,e])o.addEventListener("transitionend",resetElementOnTransitionEnd),o.style.transition=`transform ${t}ms ${s}`,o.style.transform=""})}function resetElementOnTransitionEnd(n){n.target==null||!isHTMLElement(n.target)||(n.target.style.transition="",n.target.style.pointerEvents="",n.target.removeEventListener("transitionend",resetElementOnTransitionEnd))}function isHTMLElement(n){return"style"in n}const onInitialize$1=Symbol("onInitialize"),onDestroy$1=Symbol("onDestroy"),announceEvent=Symbol("announceEvent"),announceMessage=Symbol("announceMessage"),ARIA_RELEVANT="aria-relevant",ARIA_ATOMIC="aria-atomic",ARIA_LIVE="aria-live",ROLE="role",defaultOptions$4={expire:7e3};class Announcement extends AbstractPlugin{constructor(e){super(e),this.options={...defaultOptions$4,...this.getOptions()},this.originalTriggerMethod=this.draggable.trigger,this[onInitialize$1]=this[onInitialize$1].bind(this),this[onDestroy$1]=this[onDestroy$1].bind(this)}attach(){this.draggable.on("draggable:initialize",this[onInitialize$1])}detach(){this.draggable.off("draggable:destroy",this[onDestroy$1])}getOptions(){return this.draggable.options.announcements||{}}[announceEvent](e){const t=this.options[e.type];t&&typeof t=="string"&&this[announceMessage](t),t&&typeof t=="function"&&this[announceMessage](t(e))}[announceMessage](e){announce(e,{expire:this.options.expire})}[onInitialize$1](){this.draggable.trigger=e=>{try{this[announceEvent](e)}finally{this.originalTriggerMethod.call(this.draggable,e)}}}[onDestroy$1](){this.draggable.trigger=this.originalTriggerMethod}}const liveRegion=createRegion();function announce(n,{expire:e}){const t=document.createElement("div");return t.textContent=n,liveRegion.appendChild(t),setTimeout(()=>{liveRegion.removeChild(t)},e)}function createRegion(){const n=document.createElement("div");return n.setAttribute("id","draggable-live-region"),n.setAttribute(ARIA_RELEVANT,"additions"),n.setAttribute(ARIA_ATOMIC,"true"),n.setAttribute(ARIA_LIVE,"assertive"),n.setAttribute(ROLE,"log"),n.style.position="fixed",n.style.width="1px",n.style.height="1px",n.style.top="-1px",n.style.overflow="hidden",n}document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(liveRegion)});const onInitialize=Symbol("onInitialize"),onDestroy=Symbol("onDestroy"),defaultOptions$3={};class Focusable extends AbstractPlugin{constructor(e){super(e),this.options={...defaultOptions$3,...this.getOptions()},this[onInitialize]=this[onInitialize].bind(this),this[onDestroy]=this[onDestroy].bind(this)}attach(){this.draggable.on("draggable:initialize",this[onInitialize]).on("draggable:destroy",this[onDestroy])}detach(){this.draggable.off("draggable:initialize",this[onInitialize]).off("draggable:destroy",this[onDestroy]),this[onDestroy]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[onInitialize](){requestAnimationFrame(()=>{this.getElements().forEach(e=>decorateElement(e))})}[onDestroy](){requestAnimationFrame(()=>{this.getElements().forEach(e=>stripElement(e))})}}const elementsWithMissingTabIndex=[];function decorateElement(n){!n.getAttribute("tabindex")&&n.tabIndex===-1&&(elementsWithMissingTabIndex.push(n),n.tabIndex=0)}function stripElement(n){const e=elementsWithMissingTabIndex.indexOf(n);e!==-1&&(n.tabIndex=-1,elementsWithMissingTabIndex.splice(e,1))}class MirrorEvent extends AbstractEvent{constructor(e){super(e),this.data=e}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}class MirrorCreateEvent extends MirrorEvent{}MirrorCreateEvent.type="mirror:create";class MirrorCreatedEvent extends MirrorEvent{get mirror(){return this.data.mirror}}MirrorCreatedEvent.type="mirror:created";class MirrorAttachedEvent extends MirrorEvent{get mirror(){return this.data.mirror}}MirrorAttachedEvent.type="mirror:attached";class MirrorMoveEvent extends MirrorEvent{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}MirrorMoveEvent.type="mirror:move";MirrorMoveEvent.cancelable=!0;class MirrorMovedEvent extends MirrorEvent{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}MirrorMovedEvent.type="mirror:moved";class MirrorDestroyEvent extends MirrorEvent{get mirror(){return this.data.mirror}}MirrorDestroyEvent.type="mirror:destroy";MirrorDestroyEvent.cancelable=!0;const onDragStart$3=Symbol("onDragStart"),onDragMove$2=Symbol("onDragMove"),onDragStop$3=Symbol("onDragStop"),onMirrorCreated=Symbol("onMirrorCreated"),onMirrorMove=Symbol("onMirrorMove"),onScroll=Symbol("onScroll"),getAppendableContainer=Symbol("getAppendableContainer"),defaultOptions$2={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class Mirror extends AbstractPlugin{constructor(e){super(e),this.options={...defaultOptions$2,...this.getOptions()},this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[onDragStart$3]=this[onDragStart$3].bind(this),this[onDragMove$2]=this[onDragMove$2].bind(this),this[onDragStop$3]=this[onDragStop$3].bind(this),this[onMirrorCreated]=this[onMirrorCreated].bind(this),this[onMirrorMove]=this[onMirrorMove].bind(this),this[onScroll]=this[onScroll].bind(this)}attach(){this.draggable.on("drag:start",this[onDragStart$3]).on("drag:move",this[onDragMove$2]).on("drag:stop",this[onDragStop$3]).on("mirror:created",this[onMirrorCreated]).on("mirror:move",this[onMirrorMove])}detach(){this.draggable.off("drag:start",this[onDragStart$3]).off("drag:move",this[onDragMove$2]).off("drag:stop",this[onDragStop$3]).off("mirror:created",this[onMirrorCreated]).off("mirror:move",this[onMirrorMove])}getOptions(){return this.draggable.options.mirror||{}}[onDragStart$3](e){if(e.canceled())return;"ontouchstart"in window&&document.addEventListener("scroll",this[onScroll],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:t,originalSource:s,sourceContainer:r,sensorEvent:o}=e;this.lastMirrorMovedClient={x:o.clientX,y:o.clientY};const a=new MirrorCreateEvent({source:t,originalSource:s,sourceContainer:r,sensorEvent:o,dragEvent:e});if(this.draggable.trigger(a),isNativeDragEvent(o)||a.canceled())return;const l=this[getAppendableContainer](t)||r;this.mirror=t.cloneNode(!0);const c=new MirrorCreatedEvent({source:t,originalSource:s,sourceContainer:r,sensorEvent:o,dragEvent:e,mirror:this.mirror}),u=new MirrorAttachedEvent({source:t,originalSource:s,sourceContainer:r,sensorEvent:o,dragEvent:e,mirror:this.mirror});this.draggable.trigger(c),l.appendChild(this.mirror),this.draggable.trigger(u)}[onDragMove$2](e){if(!this.mirror||e.canceled())return;const{source:t,originalSource:s,sourceContainer:r,sensorEvent:o}=e;let a=!0,l=!0;if(this.options.thresholdX||this.options.thresholdY){const{x:u,y:d}=this.lastMirrorMovedClient;if(Math.abs(u-o.clientX)<this.options.thresholdX?a=!1:this.lastMirrorMovedClient.x=o.clientX,Math.abs(d-o.clientY)<this.options.thresholdY?l=!1:this.lastMirrorMovedClient.y=o.clientY,!a&&!l)return}const c=new MirrorMoveEvent({source:t,originalSource:s,sourceContainer:r,sensorEvent:o,dragEvent:e,mirror:this.mirror,passedThreshX:a,passedThreshY:l});this.draggable.trigger(c)}[onDragStop$3](e){if("ontouchstart"in window&&document.removeEventListener("scroll",this[onScroll],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},!this.mirror)return;const{source:t,sourceContainer:s,sensorEvent:r}=e,o=new MirrorDestroyEvent({source:t,mirror:this.mirror,sourceContainer:s,sensorEvent:r,dragEvent:e});this.draggable.trigger(o),o.canceled()||this.mirror.remove()}[onScroll](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[onMirrorCreated]({mirror:e,source:t,sensorEvent:s}){const r=this.draggable.getClassNamesFor("mirror"),o=({mirrorOffset:l,initialX:c,initialY:u,...d})=>(this.mirrorOffset=l,this.initialX=c,this.initialY=u,this.lastMovedX=c,this.lastMovedY=u,{mirrorOffset:l,initialX:c,initialY:u,...d});e.style.display="none";const a={mirror:e,source:t,sensorEvent:s,mirrorClasses:r,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:!0,passedThreshY:!0};return Promise.resolve(a).then(computeMirrorDimensions).then(calculateMirrorOffset).then(resetMirror).then(addMirrorClasses).then(positionMirror({initial:!0})).then(removeMirrorID).then(o)}[onMirrorMove](e){if(e.canceled())return null;const t=({lastMovedX:o,lastMovedY:a,...l})=>(this.lastMovedX=o,this.lastMovedY=a,{lastMovedX:o,lastMovedY:a,...l}),s=o=>{const a=new MirrorMovedEvent({source:e.source,originalSource:e.originalSource,sourceContainer:e.sourceContainer,sensorEvent:e.sensorEvent,dragEvent:e.dragEvent,mirror:this.mirror,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY});return this.draggable.trigger(a),o},r={mirror:e.mirror,sensorEvent:e.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(r).then(positionMirror({raf:!0})).then(t).then(s)}[getAppendableContainer](e){const t=this.options.appendTo;return typeof t=="string"?document.querySelector(t):t instanceof HTMLElement?t:typeof t=="function"?t(e):e.parentNode}}function computeMirrorDimensions({source:n,...e}){return withPromise(t=>{const s=n.getBoundingClientRect();t({source:n,sourceRect:s,...e})})}function calculateMirrorOffset({sensorEvent:n,sourceRect:e,options:t,...s}){return withPromise(r=>{const o=t.cursorOffsetY===null?n.clientY-e.top:t.cursorOffsetY,a=t.cursorOffsetX===null?n.clientX-e.left:t.cursorOffsetX;r({sensorEvent:n,sourceRect:e,mirrorOffset:{top:o,left:a},options:t,...s})})}function resetMirror({mirror:n,source:e,options:t,...s}){return withPromise(r=>{let o,a;if(t.constrainDimensions){const l=getComputedStyle(e);o=l.getPropertyValue("height"),a=l.getPropertyValue("width")}n.style.display=null,n.style.position="fixed",n.style.pointerEvents="none",n.style.top=0,n.style.left=0,n.style.margin=0,t.constrainDimensions&&(n.style.height=o,n.style.width=a),r({mirror:n,source:e,options:t,...s})})}function addMirrorClasses({mirror:n,mirrorClasses:e,...t}){return withPromise(s=>{n.classList.add(...e),s({mirror:n,mirrorClasses:e,...t})})}function removeMirrorID({mirror:n,...e}){return withPromise(t=>{n.removeAttribute("id"),delete n.id,t({mirror:n,...e})})}function positionMirror({withFrame:n=!1,initial:e=!1}={}){return({mirror:t,sensorEvent:s,mirrorOffset:r,initialY:o,initialX:a,scrollOffset:l,options:c,passedThreshX:u,passedThreshY:d,lastMovedX:p,lastMovedY:h,...f})=>withPromise(m=>{const b={mirror:t,sensorEvent:s,mirrorOffset:r,options:c,...f};if(r){const w=u?Math.round((s.clientX-r.left-l.x)/(c.thresholdX||1))*(c.thresholdX||1):Math.round(p),y=d?Math.round((s.clientY-r.top-l.y)/(c.thresholdY||1))*(c.thresholdY||1):Math.round(h);c.xAxis&&c.yAxis||e?t.style.transform=`translate3d(${w}px, ${y}px, 0)`:c.xAxis&&!c.yAxis?t.style.transform=`translate3d(${w}px, ${o}px, 0)`:c.yAxis&&!c.xAxis&&(t.style.transform=`translate3d(${a}px, ${y}px, 0)`),e&&(b.initialX=w,b.initialY=y),b.lastMovedX=w,b.lastMovedY=y}m(b)},{frame:n})}function withPromise(n,{raf:e=!1}={}){return new Promise((t,s)=>{e?requestAnimationFrame(()=>{n(t,s)}):n(t,s)})}function isNativeDragEvent(n){return/^drag/.test(n.originalEvent.type)}const onDragStart$2=Symbol("onDragStart"),onDragMove$1=Symbol("onDragMove"),onDragStop$2=Symbol("onDragStop"),scroll=Symbol("scroll"),defaultOptions$1={speed:6,sensitivity:50,scrollableElements:[]};class Scrollable extends AbstractPlugin{constructor(e){super(e),this.options={...defaultOptions$1,...this.getOptions()},this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[onDragStart$2]=this[onDragStart$2].bind(this),this[onDragMove$1]=this[onDragMove$1].bind(this),this[onDragStop$2]=this[onDragStop$2].bind(this),this[scroll]=this[scroll].bind(this)}attach(){this.draggable.on("drag:start",this[onDragStart$2]).on("drag:move",this[onDragMove$1]).on("drag:stop",this[onDragStop$2])}detach(){this.draggable.off("drag:start",this[onDragStart$2]).off("drag:move",this[onDragMove$1]).off("drag:stop",this[onDragStop$2])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(e){return this.hasDefinedScrollableElements()?closest(e,this.options.scrollableElements)||document.documentElement:closestScrollableElement(e)}hasDefinedScrollableElements(){return this.options.scrollableElements.length!==0}[onDragStart$2](e){this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.source)})}[onDragMove$1](e){if(this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.sensorEvent.target)}),!this.scrollableElement)return;const t=e.sensorEvent,s={x:0,y:0};"ontouchstart"in window&&(s.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:t.clientX-s.x,clientY:t.clientY-s.y},this.scrollAnimationFrame=requestAnimationFrame(this[scroll])}[onDragStop$2](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[scroll](){if(!this.scrollableElement||!this.currentMousePosition)return;cancelAnimationFrame(this.scrollAnimationFrame);const{speed:e,sensitivity:t}=this.options,s=this.scrollableElement.getBoundingClientRect(),r=s.bottom>window.innerHeight,a=s.top<0||r,l=getDocumentScrollingElement(),c=this.scrollableElement,u=this.currentMousePosition.clientX,d=this.currentMousePosition.clientY;if(c!==document.body&&c!==document.documentElement&&!a){const{offsetHeight:p,offsetWidth:h}=c;s.top+p-d<t?c.scrollTop+=e:d-s.top<t&&(c.scrollTop-=e),s.left+h-u<t?c.scrollLeft+=e:u-s.left<t&&(c.scrollLeft-=e)}else{const{innerHeight:p,innerWidth:h}=window;d<t?l.scrollTop-=e:p-d<t&&(l.scrollTop+=e),u<t?l.scrollLeft-=e:h-u<t&&(l.scrollLeft+=e)}this.scrollAnimationFrame=requestAnimationFrame(this[scroll])}}function hasOverflow(n){const e=/(auto|scroll)/,t=getComputedStyle(n,null),s=t.getPropertyValue("overflow")+t.getPropertyValue("overflow-y")+t.getPropertyValue("overflow-x");return e.test(s)}function isStaticallyPositioned(n){return getComputedStyle(n).getPropertyValue("position")==="static"}function closestScrollableElement(n){if(!n)return getDocumentScrollingElement();const e=getComputedStyle(n).getPropertyValue("position"),t=e==="absolute",s=closest(n,r=>t&&isStaticallyPositioned(r)?!1:hasOverflow(r));return e==="fixed"||!s?getDocumentScrollingElement():s}function getDocumentScrollingElement(){return document.scrollingElement||document.documentElement}class Emitter{constructor(){this.callbacks={}}on(e,...t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(...t),this}off(e,t){if(!this.callbacks[e])return null;const s=this.callbacks[e].slice(0);for(let r=0;r<s.length;r++)t===s[r]&&this.callbacks[e].splice(r,1);return this}trigger(e){if(!this.callbacks[e.type])return null;const t=[...this.callbacks[e.type]],s=[];for(let r=t.length-1;r>=0;r--){const o=t[r];try{o(e)}catch(a){s.push(a)}}return s.length&&console.error(`Draggable caught errors while triggering '${e.type}'`,s),this}}class DraggableEvent extends AbstractEvent{get draggable(){return this.data.draggable}}DraggableEvent.type="draggable";class DraggableInitializedEvent extends DraggableEvent{}DraggableInitializedEvent.type="draggable:initialize";class DraggableDestroyEvent extends DraggableEvent{}DraggableDestroyEvent.type="draggable:destroy";const onDragStart$1=Symbol("onDragStart"),onDragMove=Symbol("onDragMove"),onDragStop$1=Symbol("onDragStop"),onDragPressure=Symbol("onDragPressure"),dragStop=Symbol("dragStop"),defaultAnnouncements$1={"drag:start":n=>`Picked up ${n.source.textContent.trim()||n.source.id||"draggable element"}`,"drag:stop":n=>`Released ${n.source.textContent.trim()||n.source.id||"draggable element"}`},defaultClasses={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},defaultOptions={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class Draggable{constructor(e=[document.body],t={}){if(e instanceof NodeList||e instanceof Array)this.containers=[...e];else if(e instanceof HTMLElement)this.containers=[e];else throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.options={...defaultOptions,...t,classes:{...defaultClasses,...t.classes||{}},announcements:{...defaultAnnouncements$1,...t.announcements||{}},exclude:{plugins:t.exclude&&t.exclude.plugins||[],sensors:t.exclude&&t.exclude.sensors||[]}},this.emitter=new Emitter,this.dragging=!1,this.plugins=[],this.sensors=[],this[onDragStart$1]=this[onDragStart$1].bind(this),this[onDragMove]=this[onDragMove].bind(this),this[onDragStop$1]=this[onDragStop$1].bind(this),this[onDragPressure]=this[onDragPressure].bind(this),this[dragStop]=this[dragStop].bind(this),document.addEventListener("drag:start",this[onDragStart$1],!0),document.addEventListener("drag:move",this[onDragMove],!0),document.addEventListener("drag:stop",this[onDragStop$1],!0),document.addEventListener("drag:pressure",this[onDragPressure],!0);const s=Object.values(Draggable.Plugins).filter(a=>!this.options.exclude.plugins.includes(a)),r=Object.values(Draggable.Sensors).filter(a=>!this.options.exclude.sensors.includes(a));this.addPlugin(...s,...this.options.plugins),this.addSensor(...r,...this.options.sensors);const o=new DraggableInitializedEvent({draggable:this});this.on("mirror:created",({mirror:a})=>this.mirror=a),this.on("mirror:destroy",()=>this.mirror=null),this.trigger(o)}destroy(){document.removeEventListener("drag:start",this[onDragStart$1],!0),document.removeEventListener("drag:move",this[onDragMove],!0),document.removeEventListener("drag:stop",this[onDragStop$1],!0),document.removeEventListener("drag:pressure",this[onDragPressure],!0);const e=new DraggableDestroyEvent({draggable:this});this.trigger(e),this.removePlugin(...this.plugins.map(t=>t.constructor)),this.removeSensor(...this.sensors.map(t=>t.constructor))}addPlugin(...e){const t=e.map(s=>new s(this));return t.forEach(s=>s.attach()),this.plugins=[...this.plugins,...t],this}removePlugin(...e){return this.plugins.filter(s=>e.includes(s.constructor)).forEach(s=>s.detach()),this.plugins=this.plugins.filter(s=>!e.includes(s.constructor)),this}addSensor(...e){const t=e.map(s=>new s(this.containers,this.options));return t.forEach(s=>s.attach()),this.sensors=[...this.sensors,...t],this}removeSensor(...e){return this.sensors.filter(s=>e.includes(s.constructor)).forEach(s=>s.detach()),this.sensors=this.sensors.filter(s=>!e.includes(s.constructor)),this}addContainer(...e){return this.containers=[...this.containers,...e],this.sensors.forEach(t=>t.addContainer(...e)),this}removeContainer(...e){return this.containers=this.containers.filter(t=>!e.includes(t)),this.sensors.forEach(t=>t.removeContainer(...e)),this}on(e,...t){return this.emitter.on(e,...t),this}off(e,t){return this.emitter.off(e,t),this}trigger(e){return this.emitter.trigger(e),this}getClassNameFor(e){return this.getClassNamesFor(e)[0]}getClassNamesFor(e){const t=this.options.classes[e];return t instanceof Array?t:typeof t=="string"||t instanceof String?[t]:[]}isDragging(){return!!this.dragging}getDraggableElements(){return this.containers.reduce((e,t)=>[...e,...this.getDraggableElementsForContainer(t)],[])}getDraggableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter(s=>s!==this.originalSource&&s!==this.mirror)}cancel(){this[dragStop]()}[onDragStart$1](e){const t=getSensorEvent(e),{target:s,container:r,originalSource:o}=t;if(!this.containers.includes(r))return;if(this.options.handle&&s&&!closest(s,this.options.handle)){t.cancel();return}this.originalSource=o,this.sourceContainer=r,this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none";const a=new DragStartEvent({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:t});if(this.trigger(a),this.dragging=!a.canceled(),a.canceled()){this.source.remove(),this.originalSource.style.display=null;return}this.originalSource.classList.add(...this.getClassNamesFor("source:original")),this.source.classList.add(...this.getClassNamesFor("source:dragging")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging")),document.body.classList.add(...this.getClassNamesFor("body:dragging")),applyUserSelect(document.body,"none"),requestAnimationFrame(()=>{const c=getSensorEvent(e).clone({target:this.source});this[onDragMove]({...e,detail:c})})}[onDragMove](e){if(!this.dragging)return;const t=getSensorEvent(e),{container:s}=t;let r=t.target;const o=new DragMoveEvent({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:t});this.trigger(o),o.canceled()&&t.cancel(),r=closest(r,this.options.draggable);const a=closest(t.target,this.containers),l=t.overContainer||a,c=this.currentOverContainer&&l!==this.currentOverContainer,u=this.currentOver&&r!==this.currentOver,d=l&&this.currentOverContainer!==l,p=a&&r&&this.currentOver!==r;if(u){const h=new DragOutEvent({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:t,over:this.currentOver,overContainer:this.currentOverContainer});this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOver=null,this.trigger(h)}if(c){const h=new DragOutContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:t,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.currentOverContainer=null,this.trigger(h)}if(d){l.classList.add(...this.getClassNamesFor("container:over"));const h=new DragOverContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:t,overContainer:l});this.currentOverContainer=l,this.trigger(h)}if(p){r.classList.add(...this.getClassNamesFor("draggable:over"));const h=new DragOverEvent({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:t,overContainer:l,over:r});this.currentOver=r,this.trigger(h)}}[dragStop](e){if(!this.dragging)return;this.dragging=!1;const t=new DragStopEvent({source:this.source,originalSource:this.originalSource,sensorEvent:e?e.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(t),t.canceled()||this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.remove(),this.originalSource.style.display="",this.source.classList.remove(...this.getClassNamesFor("source:dragging")),this.originalSource.classList.remove(...this.getClassNamesFor("source:original")),this.originalSource.classList.add(...this.getClassNamesFor("source:placed")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed")),this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging")),document.body.classList.remove(...this.getClassNamesFor("body:dragging")),applyUserSelect(document.body,""),this.currentOver&&this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout(()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed")),this.lastPlacedSource=null,this.lastPlacedContainer=null},this.options.placedTimeout);const s=new DragStoppedEvent({source:this.source,originalSource:this.originalSource,sensorEvent:e?e.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(s),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null}[onDragStop$1](e){this[dragStop](e)}[onDragPressure](e){if(!this.dragging)return;const t=getSensorEvent(e),s=this.source||closest(t.originalEvent.target,this.options.draggable),r=new DragPressureEvent({sensorEvent:t,source:s,pressure:t.pressure});this.trigger(r)}}Draggable.Plugins={Announcement,Focusable,Mirror,Scrollable};Draggable.Sensors={MouseSensor,TouchSensor};function getSensorEvent(n){return n.detail}function applyUserSelect(n,e){n.style.webkitUserSelect=e,n.style.mozUserSelect=e,n.style.msUserSelect=e,n.style.oUserSelect=e,n.style.userSelect=e}class DroppableEvent extends AbstractEvent{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}DroppableEvent.type="droppable";class DroppableStartEvent extends DroppableEvent{get dropzone(){return this.data.dropzone}}DroppableStartEvent.type="droppable:start";DroppableStartEvent.cancelable=!0;class DroppableDroppedEvent extends DroppableEvent{get dropzone(){return this.data.dropzone}}DroppableDroppedEvent.type="droppable:dropped";DroppableDroppedEvent.cancelable=!0;class DroppableReturnedEvent extends DroppableEvent{get dropzone(){return this.data.dropzone}}DroppableReturnedEvent.type="droppable:returned";DroppableReturnedEvent.cancelable=!0;class DroppableStopEvent extends DroppableEvent{get dropzone(){return this.data.dropzone}}DroppableStopEvent.type="droppable:stop";DroppableStopEvent.cancelable=!0;class SwappableEvent extends AbstractEvent{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}SwappableEvent.type="swappable";class SwappableStartEvent extends SwappableEvent{}SwappableStartEvent.type="swappable:start";SwappableStartEvent.cancelable=!0;class SwappableSwapEvent extends SwappableEvent{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}SwappableSwapEvent.type="swappable:swap";SwappableSwapEvent.cancelable=!0;class SwappableSwappedEvent extends SwappableEvent{get swappedElement(){return this.data.swappedElement}}SwappableSwappedEvent.type="swappable:swapped";class SwappableStopEvent extends SwappableEvent{}SwappableStopEvent.type="swappable:stop";class SortableEvent extends AbstractEvent{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}SortableEvent.type="sortable";class SortableStartEvent extends SortableEvent{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}SortableStartEvent.type="sortable:start";SortableStartEvent.cancelable=!0;class SortableSortEvent extends SortableEvent{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}SortableSortEvent.type="sortable:sort";SortableSortEvent.cancelable=!0;class SortableSortedEvent extends SortableEvent{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}SortableSortedEvent.type="sortable:sorted";class SortableStopEvent extends SortableEvent{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}SortableStopEvent.type="sortable:stop";const onDragStart=Symbol("onDragStart"),onDragOverContainer=Symbol("onDragOverContainer"),onDragOver=Symbol("onDragOver"),onDragStop=Symbol("onDragStop");function onSortableSortedDefaultAnnouncement({dragEvent:n}){const e=n.source.textContent.trim()||n.source.id||"sortable element";if(n.over){const t=n.over.textContent.trim()||n.over.id||"sortable element";return n.source.compareDocumentPosition(n.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${e} after ${t}`:`Placed ${e} before ${t}`}else return`Placed ${e} into a different container`}const defaultAnnouncements={"sortable:sorted":onSortableSortedDefaultAnnouncement};class Sortable extends Draggable{constructor(e=[],t={}){super(e,{...t,announcements:{...defaultAnnouncements,...t.announcements||{}}}),this.startIndex=null,this.startContainer=null,this[onDragStart]=this[onDragStart].bind(this),this[onDragOverContainer]=this[onDragOverContainer].bind(this),this[onDragOver]=this[onDragOver].bind(this),this[onDragStop]=this[onDragStop].bind(this),this.on("drag:start",this[onDragStart]).on("drag:over:container",this[onDragOverContainer]).on("drag:over",this[onDragOver]).on("drag:stop",this[onDragStop])}destroy(){super.destroy(),this.off("drag:start",this[onDragStart]).off("drag:over:container",this[onDragOverContainer]).off("drag:over",this[onDragOver]).off("drag:stop",this[onDragStop])}index(e){return this.getSortableElementsForContainer(e.parentNode).indexOf(e)}getSortableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter(s=>s!==this.originalSource&&s!==this.mirror&&s.parentNode===e)}[onDragStart](e){this.startContainer=e.source.parentNode,this.startIndex=this.index(e.source);const t=new SortableStartEvent({dragEvent:e,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(t),t.canceled()&&e.cancel()}[onDragOverContainer](e){if(e.canceled())return;const{source:t,over:s,overContainer:r}=e,o=this.index(t),a=new SortableSortEvent({dragEvent:e,currentIndex:o,source:t,over:s});if(this.trigger(a),a.canceled())return;const l=this.getSortableElementsForContainer(r),c=move$1({source:t,over:s,overContainer:r,children:l});if(!c)return;const{oldContainer:u,newContainer:d}=c,p=this.index(e.source),h=new SortableSortedEvent({dragEvent:e,oldIndex:o,newIndex:p,oldContainer:u,newContainer:d});this.trigger(h)}[onDragOver](e){if(e.over===e.originalSource||e.over===e.source)return;const{source:t,over:s,overContainer:r}=e,o=this.index(t),a=new SortableSortEvent({dragEvent:e,currentIndex:o,source:t,over:s});if(this.trigger(a),a.canceled())return;const l=this.getDraggableElementsForContainer(r),c=move$1({source:t,over:s,overContainer:r,children:l});if(!c)return;const{oldContainer:u,newContainer:d}=c,p=this.index(t),h=new SortableSortedEvent({dragEvent:e,oldIndex:o,newIndex:p,oldContainer:u,newContainer:d});this.trigger(h)}[onDragStop](e){const t=new SortableStopEvent({dragEvent:e,oldIndex:this.startIndex,newIndex:this.index(e.source),oldContainer:this.startContainer,newContainer:e.source.parentNode});this.trigger(t),this.startIndex=null,this.startContainer=null}}function index(n){return Array.prototype.indexOf.call(n.parentNode.children,n)}function move$1({source:n,over:e,overContainer:t,children:s}){const r=!s.length,o=n.parentNode!==t,a=e&&n.parentNode===e.parentNode;return r?moveInsideEmptyContainer(n,t):a?moveWithinContainer(n,e):o?moveOutsideContainer(n,e,t):null}function moveInsideEmptyContainer(n,e){const t=n.parentNode;return e.appendChild(n),{oldContainer:t,newContainer:e}}function moveWithinContainer(n,e){const t=index(n),s=index(e);return t<s?n.parentNode.insertBefore(n,e.nextElementSibling):n.parentNode.insertBefore(n,e),{oldContainer:n.parentNode,newContainer:n.parentNode}}function moveOutsideContainer(n,e,t){const s=n.parentNode;return e?e.parentNode.insertBefore(n,e):t.appendChild(n),{oldContainer:s,newContainer:n.parentNode}}function move(n,e,t){const s=[...n.slice(0,e),...n.slice(e+1,n.length)];return[...s.slice(0,t),n[e],...s.slice(t,s.length)]}const _sfc_main$3={props:{value:{required:!0},itemClass:{default:"sortable-item"},handleClass:{default:"sortable-handle"},mirror:{type:Boolean,default:!0},appendTo:{default:null},options:{default:()=>{}},vertical:{type:Boolean},constrainDimensions:{type:Boolean},delay:{type:Number,default:0},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},animate:{type:Boolean,default:!0}},data(){return{sortable:null}},computed:{computedOptions(){let n=[];this.animate&&n.push(SwapAnimation);let e=Object.assign({},{draggable:`.${CSS.escape(this.itemClass)}`,handle:`.${CSS.escape(this.handleClass)}`,delay:this.delay,distance:this.distance,swapAnimation:{vertical:this.vertical,horizontal:!this.vertical},plugins:n,mirror:{constrainDimensions:this.constrainDimensions}},this.options);return this.vertical&&(e.mirror.xAxis=!1),this.appendTo&&(e.mirror.appendTo=this.appendTo),e}},provide(){return{itemClass:this.itemClass,handleClass:this.handleClass}},render(){return this.$scopedSlots.default({items:this.value})},mounted(){this.disabled||this.setupSortableList()},methods:{setupSortableList(){this.sortable=new Sortable(this.$el,this.computedOptions),this.sortable.on("drag:start",()=>this.$emit("dragstart")),this.sortable.on("drag:stop",()=>this.$emit("dragend")),this.sortable.on("sortable:stop",({oldIndex:n,newIndex:e})=>{this.$emit("input",move(this.value,n,e))}),this.$on("hook:destroyed",()=>{this.sortable.destroy()}),this.mirror===!1&&this.sortable.on("mirror:create",n=>n.cancel())},destroySortableList(){this.sortable.destroy()}},watch:{disabled(n){n?this.destroySortableList():this.setupSortableList()}}},_sfc_render$3=null,_sfc_staticRenderFns$3=null;var __component__$3=normalizeComponent(_sfc_main$3,_sfc_render$3,_sfc_staticRenderFns$3,!1,null,null,null,null);const SortableList=__component__$3.exports,AssetsFieldtype_vue_vue_type_style_index_0_lang="",_sfc_main$2={components:{AssetTile,AssetRow,Selector,Uploader,Uploads,SortableList},mixins:[Fieldtype],data(){return{assets:[],loading:!0,initializing:!0,showSelector:!1,selectorViewMode:null,draggingFile:!1,uploads:[],innerDragging:!1,displayMode:"grid"}},computed:{hasAssets(){return!!this.assets.length},container(){return this.config.container||this.meta.container},folder(){return this.config.folder||"/"},restrictNavigation(){return this.config.restrict||!1},maxFiles(){return this.config.max_files?parseInt(this.config.max_files):1/0},maxFilesReached(){return this.maxFiles===0?!1:this.assets.length>=this.maxFiles},soloAsset(){return this.maxFiles===1},selectedAssets(){return clone(this.value)},assetIds(){return _.pluck(this.assets,"id")},expanded(){return this.assets.length>0},uploadElement(){return this.$el},queryScopes(){return this.config.query_scopes||[]},isInBardField(){let n=this;for(;;){let e=n.$parent;if(!e)return!1;if(e.constructor.name==="BardFieldtype")return!0;n=e}},isInGridField(){let n=this;for(;;){let e=n.$parent;if(!e)return!1;if(e.grid)return!0;n=e}},isInLinkField(){let n=this;for(;;){let e=n.$parent;if(!e)return!1;if(e.$options.name==="link-fieldtype")return!0;n=e}},replicatorPreview(){if(!(!this.showFieldPreviews||!this.config.replicator_preview))return replicatorPreviewHtml(_.map(this.assets,n=>n.isImage||n.isSvg?`<img src="${n.thumbnail}" width="20" height="20" title="${n.basename}" />`:n.basename).join(", "))},showPicker(){return!(!this.canBrowse&&!this.canUpload||this.maxFilesReached&&!this.isFullWidth||this.maxFilesReached&&(this.isInGridField||this.isInLinkField))},isFullWidth(){return!(this.config.width&&this.config.width<100)},showSetAlt(){return this.config.show_set_alt&&!this.isReadOnly},canBrowse(){return this.can("configure asset containers")||this.can("view "+this.container+" assets")},canUpload(){return this.config.allow_uploads&&(this.can("configure asset containers")||this.can("upload "+this.container+" assets"))}},events:{"close-selector"(){this.closeSelector()}},methods:{initializeAssets(){if(!this.meta.data){this.loadAssets(this.value),this.initializing=!1;return}this.assets=clone(this.meta.data),this.$nextTick(()=>{this.initializing=!1,this.loading=!1}),this.$emit("replicator-preview-updated",this.replicatorPreview)},loadAssets(n){if(!n||!n.length){this.loading=!1,this.assets=[];return}this.loading=!0,this.$axios.post(cp_url("assets-fieldtype"),{assets:n}).then(e=>{this.assets=e.data,this.loading=!1})},assetsSelected(n){this.loadAssets(n)},openSelector(){this.showSelector=!0},closeSelector(){this.showSelector=!1},assetUpdated(n){const e=_(this.assets).findIndex({id:n.id});this.assets.splice(e,1,n)},assetRemoved(n){const e=_(this.assets).findIndex({id:n.id});this.assets.splice(e,1)},uploadComplete(n){this.assets.push(n)},uploadsUpdated(n){this.uploads=n},uploadError(n,e){this.uploads=e,this.$toast.error(n.errorMessage)},uploadFile(){this.$refs.uploader.browse()},idChanged(n,e){const t=this.value.indexOf(n);this.update([...this.value.slice(0,t),e,...this.value.slice(t+1)])}},watch:{assets(n){this.initializing||(this.update(this.assetIds),this.updateMeta({...this.meta,data:[...n]}))},loading(n){this.$progress.loading(`assets-fieldtype-${this._uid}`,n)},value(n){_.isEqual(n,this.assetIds)||this.loadAssets(n)},showSelector(n){this.$emit(n?"focus":"blur")}},mounted(){this.displayMode=this.isInsideGridField?"list":this.config.mode||"grid",this.selectorViewMode=Cookies.get("statamic.assets.listing_view_mode")||"grid",this.initializeAssets()}};var _sfc_render$2=function n(){var e=this,t=e._self._c;return t("div",{staticClass:"@container"},[t("uploader",{ref:"uploader",attrs:{container:e.container,enabled:e.canUpload,path:e.folder},on:{updated:e.uploadsUpdated,"upload-complete":e.uploadComplete,error:e.uploadError},scopedSlots:e._u([{key:"default",fn:function({dragging:s}){return t("div",{staticClass:"assets-fieldtype-drag-container"},[e.config.allow_uploads?t("div",{directives:[{name:"show",rawName:"v-show",value:s&&!e.showSelector,expression:"dragging && !showSelector"}],staticClass:"drag-notification"},[t("svg-icon",{staticClass:"h-6 @md:h-8 w-6 @md:w-8 rtl:ml-2 ltr:mr-2 @md:mr-6",attrs:{name:"upload"}}),t("span",[e._v(e._s(e.__("Drop to Upload")))])],1):e._e(),!e.isReadOnly&&e.showPicker?t("div",{staticClass:"assets-fieldtype-picker",class:{"is-expanded":e.expanded,"bard-drag-handle":e.isInBardField}},[e.canBrowse?t("button",{staticClass:"btn btn-with-icon",class:{"opacity-0":s},attrs:{type:"button",tabindex:"0"},on:{click:e.openSelector,keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"space",32,r.key,[" ","Spacebar"])&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.openSelector.apply(null,arguments)}}},[t("svg-icon",{staticClass:"w-4 h-4 text-gray-800",attrs:{name:"folder-image"}}),e._v(" "+e._s(e.__("Browse"))+" ")],1):e._e(),e.canUpload?t("p",{staticClass:"asset-upload-control"},[t("button",{staticClass:"upload-text-button",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),e.uploadFile.apply(null,arguments)}}},[e._v(" "+e._s(e.__("Upload file"))+" ")]),e.soloAsset?t("span",{staticClass:"drag-drop-text",domProps:{textContent:e._s(e.__("or drag & drop here to replace."))}}):t("span",{staticClass:"drag-drop-text",domProps:{textContent:e._s(e.__("or drag & drop here."))}})]):e._e()]):e._e(),e.uploads.length?t("uploads",{attrs:{uploads:e.uploads}}):e._e(),e.expanded?[e.displayMode==="grid"?t("sortable-list",{attrs:{"item-class":"asset-tile","handle-class":"asset-thumb-container","constrain-dimensions":!0,disabled:e.isReadOnly,distance:5,animate:!1,"append-to":"body"},on:{dragstart:function(r){return e.$emit("focus")},dragend:function(r){return e.$emit("blur")}},model:{value:e.assets,callback:function(r){e.assets=r},expression:"assets"}},[t("div",{ref:"assets",staticClass:"asset-grid-listing border rounded overflow-hidden rounded-t-none"},e._l(e.assets,function(r){return t("asset-tile",{key:r.id,attrs:{asset:r,"read-only":e.isReadOnly,"show-filename":e.config.show_filename,"show-set-alt":e.showSetAlt},on:{updated:e.assetUpdated,removed:e.assetRemoved,"id-changed":function(o){return e.idChanged(r.id,o)}}})}),1)]):e._e(),e.displayMode==="list"?t("div",{staticClass:"asset-table-listing"},[t("table",{staticClass:"table-fixed"},[t("sortable-list",{attrs:{"item-class":"asset-row","handle-class":"asset-row",vertical:!0,disabled:e.isReadOnly,distance:5,mirror:!1},model:{value:e.assets,callback:function(r){e.assets=r},expression:"assets"}},[t("tbody",{ref:"assets"},e._l(e.assets,function(r){return t("assetRow",{key:r.id,tag:"tr",staticClass:"asset-row",attrs:{asset:r,"read-only":e.isReadOnly,"show-filename":e.config.show_filename,"show-set-alt":e.showSetAlt},on:{updated:e.assetUpdated,removed:e.assetRemoved,"id-changed":function(o){return e.idChanged(r.id,o)}}})}),1)])],1)]):e._e()]:e._e()],2)}}])}),e.showSelector?t("stack",{attrs:{name:"asset-selector"},on:{closed:e.closeSelector}},[t("selector",{attrs:{container:e.container,folder:e.folder,"restrict-container-navigation":!0,"restrict-folder-navigation":e.restrictNavigation,selected:e.selectedAssets,"view-mode":e.selectorViewMode,"max-files":e.maxFiles,"query-scopes":e.queryScopes},on:{selected:e.assetsSelected,closed:e.closeSelector}})],1):e._e()],1)},_sfc_staticRenderFns$2=[],__component__$2=normalizeComponent(_sfc_main$2,_sfc_render$2,_sfc_staticRenderFns$2,!1,null,null,null,null);const AssetsFieldType=__component__$2.exports,_sfc_main$1={extends:AssetsFieldType,computed:{isInLinkField(){return!0},showSetAlt(){return!1}}},_sfc_render$1=null,_sfc_staticRenderFns$1=null;var __component__$1=normalizeComponent(_sfc_main$1,_sfc_render$1,_sfc_staticRenderFns$1,!1,null,null,null,null);const ExtendedAssetsFieldtype=__component__$1.exports,SuperLink_vue_vue_type_style_index_0_lang="",_sfc_main={mixins:[Fieldtype,PositionsSelectOptions],components:{ExtendedAssetsFieldtype},data(){return{option:this.meta.initialOption,options:this.initialOptions(),urlValue:this.meta.initialUrl,mailtoValue:this.meta.initialMailto,telValue:this.meta.initialTel,selectedEntries:this.meta.initialSelectedEntries,selectedAssets:this.meta.initialSelectedAssets,metaChanging:!1,textValue:this.meta.initialText,targetBlankValue:this.meta.initialTargetBlank}},computed:{entryValue(){return this.selectedEntries.length?`entry::${this.selectedEntries[0]}`:null},assetValue(){return this.selectedAssets.length?`asset::${this.selectedAssets[0]}`:null},linkValue(){let n=null;return this.option==="url"?n=this.urlValue:this.option==="mailto"?n="mailto:"+this.mailtoValue:this.option==="tel"?n="tel:"+this.telValue:this.option==="entry"?n=this.entryValue:this.option==="asset"?n=this.assetValue:this.option==="first-child"&&(n="@child"),{url:n,text:this.textValue,target_blank:this.targetBlankValue}}},watch:{option(n,e){this.metaChanging||(n===null?this.update(null):n==="url"?this.updateDebounced(this.urlValue):n==="mailto"?this.updateDebounced(this.mailtoValue):n==="tel"?this.updateDebounced(this.telValue):n==="first-child"?this.update("@child"):n==="entry"?this.entryValue?this.update(this.entryValue):setTimeout(()=>this.$refs.entries.linkExistingItem(),0):n==="asset"&&(this.assetValue?this.update(this.assetValue):setTimeout(()=>this.$refs.assets.openSelector(),0)))},textValue(n){this.metaChanging||this.update(n)},urlValue(n){this.metaChanging||this.update(n)},mailtoValue(n){this.metaChanging||this.update(n)},telValue(n){this.metaChanging||this.update(n)},targetBlankValue(n){this.metaChanging||this.update(n)},meta(n){this.metaChanging=!0,this.urlValue=n.initialUrl,this.mailtoValue=n.initialMailto,this.telValue=n.initialTel,this.textValue=n.initialText,this.targetBlankValue=n.initialTargetBlank,this.option=n.initialOption,this.selectedEntries=n.initialSelectedEntries,this.selectedAssets=n.initialSelectedAssets,this.$nextTick(()=>this.metaChanging=!1)},linkValue(n){this.metaChanging||this.update(n)}},methods:{initialOptions(){return[this.config.required?null:{label:__("None"),value:null},{label:__("URL"),value:"url"},this.meta.showFirstChildOption?{label:__("First Child"),value:"first-child"}:null,{label:__("Entry"),value:"entry"},this.meta.showAssetOption?{label:__("Asset"),value:"asset"}:null,{label:__("Email"),value:"mailto"},{label:__("Phone"),value:"tel"}].filter(n=>n)},entriesSelected(n){this.selectedEntries=n,this.update(this.entryValue)},assetsSelected(n){this.selectedAssets=n,this.update(this.assetValue)}}};var _sfc_render=function n(){var e=this,t=e._self._c;return t("div",{staticClass:"super-link !flex !flex-col !items-start !gap-4 sm:!flex-row"},[t("div",{staticClass:"!w-full sm:!w-28"},[t("v-select",{attrs:{"append-to-body":"","calculate-position":e.positionOptions,options:e.options,clearable:!1,reduce:s=>s.value},scopedSlots:e._u([{key:"option",fn:function({label:s}){return[e._v(" "+e._s(e.__(s))+" ")]}}]),model:{value:e.option,callback:function(s){e.option=s},expression:"option"}})],1),t("div",{staticClass:"!shrink-1 !w-full !min-w-0 !flex-1 sm:!w-auto"},[t("div",[e.option==="url"?t("text-input",{attrs:{placeholder:"https://example.com"},model:{value:e.urlValue,callback:function(s){e.urlValue=s},expression:"urlValue"}}):e._e(),e.option==="mailto"?t("text-input",{attrs:{placeholder:"email@example.com"},model:{value:e.mailtoValue,callback:function(s){e.mailtoValue=s},expression:"mailtoValue"}}):e._e(),e.option==="tel"?t("text-input",{attrs:{placeholder:"+1-555-123-4567"},model:{value:e.telValue,callback:function(s){e.telValue=s},expression:"telValue"}}):e._e(),e.option==="entry"?t("relationship-fieldtype",{ref:"entries",staticClass:"sm:-mt-0.5",attrs:{handle:"entry",value:e.selectedEntries,config:e.meta.entry.config,meta:e.meta.entry.meta},on:{input:e.entriesSelected,"meta-updated":function(s){e.meta.entry.meta=s}}}):e._e(),e.option==="asset"?t("extended-assets-fieldtype",{ref:"assets",attrs:{handle:"asset",value:e.selectedAssets,config:e.meta.asset.config,meta:e.meta.asset.meta},on:{input:e.assetsSelected,"meta-updated":function(s){e.meta.asset.meta=s}}}):e._e(),e.option!==null?t("div",{staticClass:"!mt-2 !flex !items-center",attrs:{tabindex:"-1"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.targetBlankValue,expression:"targetBlankValue"}],attrs:{type:"checkbox",id:`target_blank-${e._uid}`,tabindex:"-1"},domProps:{checked:Array.isArray(e.targetBlankValue)?e._i(e.targetBlankValue,null)>-1:e.targetBlankValue},on:{change:function(s){var r=e.targetBlankValue,o=s.target,a=!!o.checked;if(Array.isArray(r)){var l=null,c=e._i(r,l);o.checked?c<0&&(e.targetBlankValue=r.concat([l])):c>-1&&(e.targetBlankValue=r.slice(0,c).concat(r.slice(c+1)))}else e.targetBlankValue=a}}}),t("label",{staticClass:"ml-2 text-xs",attrs:{for:`target_blank-${e._uid}`,taxindex:"-1"}},[e._v("Open link in new tab")])]):e._e()],1)]),t("div",{staticClass:"!w-full !shrink-0 sm:!w-1/3"},[e.option!==null?t("text-input",{attrs:{placeholder:"Enter Link Text"},model:{value:e.textValue,callback:function(s){e.textValue=s},expression:"textValue"}}):e._e()],1)])},_sfc_staticRenderFns=[],__component__=normalizeComponent(_sfc_main,_sfc_render,_sfc_staticRenderFns,!1,null,null,null,null);const SuperLink=__component__.exports;Statamic.booting(()=>{Statamic.$components.register("super_link-fieldtype",SuperLink)});
